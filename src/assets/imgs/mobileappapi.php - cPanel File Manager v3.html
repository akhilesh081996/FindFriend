<!DOCTYPE html>
<!-- saved from url=(0270)https://server.knoxwebhq.com:2083/cpsess1656896858/frontend/paper_lantern/filemanager/editit.html?file=mobileappapi.php&fileop=&dir=%2Fhome2%2Fdisrelap%2Fpublic_html%2Fwp-content%2Fplugins%2Fmobile-app-rest-api&dirop=&charset=&file_charset=utf-8&baseurl=&basedir=&edit=1 -->
<html class="gr__server_knoxwebhq_com" style="--lns-color-purple:hsla(230,84%,63%,1); --lns-color-salmon:hsla(359,98%,68%,1); --lns-color-green:hsla(149,78%,53%,1); --lns-color-blue:hsla(201,100%,55%,1); --lns-color-red:hsla(356,86%,55%,1); --lns-color-yellow:hsla(40,100%,66%,1); --lns-color-grey8:hsla(230,11%,19%,1); --lns-color-grey7:hsla(230,10%,30%,1); --lns-color-grey6:hsla(230,9%,45%,1); --lns-color-grey5:hsla(230,8%,60%,1); --lns-color-grey4:hsla(230,7%,75%,1); --lns-color-grey3:hsla(230,7%,84%,1); --lns-color-grey2:hsla(230,7%,92%,1); --lns-color-grey1:hsla(230,7%,97%,1); --lns-color-white:hsla(230,7%,100%,1); --lns-themeLight-color-body:hsla(230,11%,19%,1); --lns-themeLight-color-bodyDimmed:hsla(230,40%,19%,0.6); --lns-themeLight-color-background:hsla(230,7%,100%,1); --lns-themeLight-color-overlay:hsla(230,7%,100%,1); --lns-themeLight-color-primary:hsla(230,84%,63%,1); --lns-themeLight-color-focusRing:hsla(230,84%,63%,0.5); --lns-themeLight-color-border:hsla(230,9%,45%,0.2); --lns-themeLight-color-disabledContent:hsla(230,8%,60%,1); --lns-themeLight-color-disabledBackground:hsla(230,7%,92%,1); --lns-themeLight-color-backdrop:hsla(230,11%,19%,0.5); --lns-themeLight-color-formFieldBorder:hsla(230,7%,84%,1); --lns-themeLight-color-formFieldBackground:hsla(230,7%,100%,1); --lns-themeDark-color-body:hsla(230,7%,97%,1); --lns-themeDark-color-bodyDimmed:hsla(230,40%,97%,0.6); --lns-themeDark-color-background:hsla(230,11%,19%,1); --lns-themeDark-color-overlay:hsla(230,10%,30%,1); --lns-themeDark-color-primary:hsla(230,84%,63%,1); --lns-themeDark-color-focusRing:hsla(230,84%,63%,0.5); --lns-themeDark-color-border:hsla(230,7%,75%,0.2); --lns-themeDark-color-disabledContent:hsla(230,8%,60%,1); --lns-themeDark-color-disabledBackground:hsla(230,10%,30%,1); --lns-themeDark-color-backdrop:hsla(230,11%,19%,0.5); --lns-themeDark-color-formFieldBorder:hsla(230,9%,45%,1); --lns-themeDark-color-formFieldBackground:hsla(230,11%,19%,1); --lns-fontSize-small:12px; --lns-lineHeight-small:18px; --lns-fontSize-medium:14px; --lns-lineHeight-medium:22px; --lns-fontSize-large:18px; --lns-lineHeight-large:26px; --lns-fontSize-xlarge:22px; --lns-lineHeight-xlarge:32px; --lns-fontSize-xxlarge:32px; --lns-lineHeight-xxlarge:38px; --lns-fontWeight-normal:400; --lns-fontWeight-semiBold:600; --lns-radius-medium:4px; --lns-radius-large:8px; --lns-shadow-small:0 1px 4px hsla(0,0%,0%,0.15); --lns-shadow-medium:0 1px 4px hsla(0,0%,0%,0.1), 0 4px 16px hsla(0,0%,0%,0.07); --lns-shadow-large:0 1px 4px hsla(0,0%,0%,0.07), 0 6px 24px hsla(0,0%,0%,0.1); --lns-space-xsmall:4px; --lns-space-small:8px; --lns-space-medium:16px; --lns-space-large:32px; --lns-space-xlarge:64px;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>mobileappapi.php - cPanel File Manager v3</title>
        
        <link rel="stylesheet" type="text/css" href="./mobileappapi.php - cPanel File Manager v3_files/bootstrap.min.css">
        
        <link rel="stylesheet" type="text/css" href="./mobileappapi.php - cPanel File Manager v3_files/open_sans.min.css">
        <link rel="stylesheet" type="text/css" href="./mobileappapi.php - cPanel File Manager v3_files/fontawesome-all.min.css">
        <link rel="stylesheet" type="text/css" href="./mobileappapi.php - cPanel File Manager v3_files/tree_styles2_optimized.css">

        <script type="text/javascript" src="./mobileappapi.php - cPanel File Manager v3_files/utilities_container.js"></script>
        <script type="text/javascript" src="./mobileappapi.php - cPanel File Manager v3_files/cpanel-all-min.js"></script>
        <script type="text/javascript" src="./mobileappapi.php - cPanel File Manager v3_files/filemanager_editors_optimized.js"></script>

        
<link rel="stylesheet" type="text/css" href="./mobileappapi.php - cPanel File Manager v3_files/ajaxapp-min.css">
<!--[if IE 6]>
<link rel="stylesheet" type="text/css" href="/cPanel_magic_revision_1484079600/cjt/css/ajaxapp_ie6.css" />
<![endif]-->


        <style type="text/css">
            html, body, #maintbl {
                height: 100%;
                width: 100%;
                margin: 0;
                padding: 0;
                background: none !important;
            }

            form { margin: 0 }

            #maintbl, #maintbl tr, #maintbl td {
                margin:0;
                padding:0;
                border-collapse: collapse;
                border: none;
            }

            .cjt_progress_overlay .bd {
                background: transparent;
            }

            /* Suppress inherited styles from global style sheets. */
            .yui-panel .hd,
            .yui-panel .bd,
            .yui-panel .ft {
                background-image: none;
                font-size: 100%;

            }
            .yui-panel .ft {
                background-color: #CCCCCC;
            }

            /* overrides from tree_styles2_optimized.css */
            p {
                line-height: normal;
            }
            .header {
                background: #333333;
                color: #FFFFFF;
                padding: 5px;
            }
            .button-group .default {
                background: none !important;
                padding: 0;
            }

            .action-buttons {
                text-align: right;
            }

            .editor-area {
                position: absolute !important;
                top: 94px;
                right: 0;
                left: 0;
                bottom: 20px;
                border: 1px solid #CCCCCC;
            }

            .editor-toolbar {
                padding-top: 5px;
                padding-bottom: 5px;
            }

            .editor-toolbar .fa-terminal {
                font-size: inherit;
            }

            .btn-group-ddl {
                padding: 1px;
            }

            .help-link {
                padding: 14px;
                display: block;
            }

            @media (max-width: 503px) {
                .editor-area {
                    top: 245px;
                }
                .action-buttons {
                    text-align: left;
                }
            }

            @media (min-width: 504px) and (max-width: 768px) {
                .editor-area {
                    top: 200px;
                }
            }

            @media (min-width: 769px) and (max-width: 1074px) {
                .editor-area {
                    top: 130px;
                }
            }
        </style>

        <!--[if IE]>
        <style type="text/css">
            #legacy_codewindow {
                width: 99.5%;
            }
        </style>
        <![endif]-->

    <style id="ace_editor.css">.ace_editor {position: relative;overflow: hidden;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}
/*# sourceURL=ace/css/ace_editor.css */</style><style id="ace-tm">.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}
/*# sourceURL=ace/css/ace-tm */</style><style>    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }</style><style>
    :root,
    .theme-light {
      --lns-color-body: var(--lns-themeLight-color-body);--lns-color-bodyDimmed: var(--lns-themeLight-color-bodyDimmed);--lns-color-background: var(--lns-themeLight-color-background);--lns-color-overlay: var(--lns-themeLight-color-overlay);--lns-color-primary: var(--lns-themeLight-color-primary);--lns-color-focusRing: var(--lns-themeLight-color-focusRing);--lns-color-border: var(--lns-themeLight-color-border);--lns-color-disabledContent: var(--lns-themeLight-color-disabledContent);--lns-color-disabledBackground: var(--lns-themeLight-color-disabledBackground);--lns-color-backdrop: var(--lns-themeLight-color-backdrop);--lns-color-formFieldBorder: var(--lns-themeLight-color-formFieldBorder);--lns-color-formFieldBackground: var(--lns-themeLight-color-formFieldBackground);;
    }

    .theme-dark {
      --lns-color-body: var(--lns-themeDark-color-body);--lns-color-bodyDimmed: var(--lns-themeDark-color-bodyDimmed);--lns-color-background: var(--lns-themeDark-color-background);--lns-color-overlay: var(--lns-themeDark-color-overlay);--lns-color-primary: var(--lns-themeDark-color-primary);--lns-color-focusRing: var(--lns-themeDark-color-focusRing);--lns-color-border: var(--lns-themeDark-color-border);--lns-color-disabledContent: var(--lns-themeDark-color-disabledContent);--lns-color-disabledBackground: var(--lns-themeDark-color-disabledBackground);--lns-color-backdrop: var(--lns-themeDark-color-backdrop);--lns-color-formFieldBorder: var(--lns-themeDark-color-formFieldBorder);--lns-color-formFieldBackground: var(--lns-themeDark-color-formFieldBackground);;
    }
  </style><style data-styled="" data-styled-version="4.4.1"></style><script src="./mobileappapi.php - cPanel File Manager v3_files/mode-php.js"></script><script src="./mobileappapi.php - cPanel File Manager v3_files/theme-chrome.js"></script><style type="text/css">
@font-face {
  font-weight: 400;
  font-style:  normal;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Regular.woff2') format('woff2');
}
@font-face {
  font-weight: 400;
  font-style:  italic;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Italic.woff2') format('woff2');
}

@font-face {
  font-weight: 500;
  font-style:  normal;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Medium.woff2') format('woff2');
}
@font-face {
  font-weight: 500;
  font-style:  italic;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-MediumItalic.woff2') format('woff2');
}

@font-face {
  font-weight: 700;
  font-style:  normal;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Bold.woff2') format('woff2');
}
@font-face {
  font-weight: 700;
  font-style:  italic;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-BoldItalic.woff2') format('woff2');
}

@font-face {
  font-weight: 900;
  font-style:  normal;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Black.woff2') format('woff2');
}
@font-face {
  font-weight: 900;
  font-style:  italic;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-BlackItalic.woff2') format('woff2');
}</style><style id="ace-chrome">.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}
/*# sourceURL=ace/css/ace-chrome */</style><script src="./mobileappapi.php - cPanel File Manager v3_files/ext-searchbox.js"></script><style id="ace_searchbox">.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;box-sizing: border-box!important;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;box-sizing: content-box!important;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}
/*# sourceURL=ace/css/ace_searchbox */</style></head>
    <body class="nomargins yui-skin-sam js-focus-visible" data-gr-c-s-loaded="true" cz-shortcut-listen="true"><div class="mask" id="yui-gen15_mask" style="z-index: 2507; height: 740px; width: 1455px; display: none;">&nbsp;</div><div class="yui-panel-container cjt-progress-overlay throbber cjt_progress_panel_container yui-overlay-hidden" id="yui-gen15_c" style="z-index: 2508; visibility: hidden; left: 590px; top: 364px; overflow: hidden;"><div id="yui-gen15" class="yui-module yui-overlay yui-panel cjt_progress_panel" style="visibility: inherit;"><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"><button tabindex="-1" style="height: 1px; width: 1px; position: absolute; left: -10000em; opacity: 0;"></button><div class="bd" id="yui-gen16" style="border: 0px;"><div class="cjt-progress-overlay-body-liner"><div class="loader-tool"><div class="loader"></div></div><div class="cjt-progress-overlay-text-container"><span class="cjt-progress-overlay-text cjt-fading-text-field">Saving “mobileappapi.php” …</span></div></div></div><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"></div></div><div class="mask" id="yui-gen11_mask" style="z-index: 2505; height: 740px; width: 1455px; display: none;">&nbsp;</div><div class="yui-panel-container cjt-progress-overlay throbber cjt_progress_panel_container yui-overlay-hidden" id="yui-gen11_c" style="z-index: 2506; visibility: hidden; left: 590px; top: 364px; overflow: hidden;"><div id="yui-gen11" class="yui-module yui-overlay yui-panel cjt_progress_panel" style="visibility: inherit;"><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"><button tabindex="-1" style="height: 1px; width: 1px; position: absolute; left: -10000em; opacity: 0;"></button><div class="bd" id="yui-gen12" style="border: 0px;"><div class="cjt-progress-overlay-body-liner"><div class="loader-tool"><div class="loader"></div></div><div class="cjt-progress-overlay-text-container"><span class="cjt-progress-overlay-text cjt-fading-text-field">Saving “mobileappapi.php” …</span></div></div></div><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"></div></div><div class="mask" id="yui-gen7_mask" style="z-index: 2503; height: 740px; width: 1455px; display: none;">&nbsp;</div><div class="yui-panel-container cjt-progress-overlay throbber cjt_progress_panel_container yui-overlay-hidden" id="yui-gen7_c" style="z-index: 2504; visibility: hidden; left: 590px; top: 364px; overflow: hidden;"><div id="yui-gen7" class="yui-module yui-overlay yui-panel cjt_progress_panel" style="visibility: inherit;"><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"><button tabindex="-1" style="height: 1px; width: 1px; position: absolute; left: -10000em; opacity: 0;"></button><div class="bd" id="yui-gen8" style="border: 0px;"><div class="cjt-progress-overlay-body-liner"><div class="loader-tool"><div class="loader"></div></div><div class="cjt-progress-overlay-text-container"><span class="cjt-progress-overlay-text cjt-fading-text-field">Saving “mobileappapi.php” …</span></div></div></div><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"></div></div><div class="mask" id="yui-gen3_mask" style="z-index: 2501; height: 740px; width: 1455px; display: none;">&nbsp;</div><div class="yui-panel-container cjt-progress-overlay throbber cjt_progress_panel_container yui-overlay-hidden" id="yui-gen3_c" style="z-index: 2502; visibility: hidden; left: 590px; top: 364px; overflow: hidden;"><div id="yui-gen3" class="yui-module yui-overlay yui-panel cjt_progress_panel" style="visibility: inherit;"><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"><button tabindex="-1" style="height: 1px; width: 1px; position: absolute; left: -10000em; opacity: 0;"></button><div class="bd" id="yui-gen4" style="border: 0px;"><div class="cjt-progress-overlay-body-liner"><div class="loader-tool"><div class="loader"></div></div><div class="cjt-progress-overlay-text-container"><span class="cjt-progress-overlay-text cjt-fading-text-field">Saving “mobileappapi.php” …</span></div></div></div><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"></div></div><iframe id="_yuiResizeMonitor" title="Text Resize Monitor" tabindex="-1" role="presentation" style="position: absolute; visibility: visible; background-color: transparent; border-width: 0px; width: 2em; height: 2em; left: 0px; top: -29px;" src="./mobileappapi.php - cPanel File Manager v3_files/saved_resource.html"></iframe><div class="mask" id="yui-gen0_mask" style="z-index: 2499; height: 740px; width: 1455px; display: none;">&nbsp;</div><div class="yui-panel-container cjt-progress-overlay throbber cjt_progress_panel_container yui-overlay-hidden" id="yui-gen0_c" style="z-index: 2500; visibility: hidden; left: 590px; top: 364px; overflow: hidden;"><div id="yui-gen0" class="yui-module yui-overlay yui-panel cjt_progress_panel" style="visibility: inherit;"><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"><button tabindex="-1" style="height: 1px; width: 1px; position: absolute; left: -10000em; opacity: 0;"></button><div class="bd" id="yui-gen1" style="border: 0px;"><div class="cjt-progress-overlay-body-liner"><div class="loader-tool"><div class="loader"></div></div><div class="cjt-progress-overlay-text-container"><span class="cjt-progress-overlay-text cjt-fading-text-field">Saving “mobileappapi.php” …</span></div></div></div><input style="position: absolute; top: 1px; outline: 0px; margin: 0px; border: 0px; padding: 0px; height: 1px; width: 1px; z-index: -1; opacity: 0;"></div></div>
        <form action="javascript:void(0)" name="sform" onsubmit="loadfdata(&#39;sform_submit&#39;); return false;" class="form-inline">
            <table border="0" id="maintbl">
                <tbody><tr class="header">
                    <td style="padding: 5px">
                        <div class="row">
                            <div class="col-xs-12 col-md-8">
                                <label style="font-weight: 900; font-size:13px;">
                                    Editing:
                                    <input id="path" name="path" value="/home2/disrelap/public_html/wp-content/plugins/mobile-app-rest-api/mobileappapi.php" class="form-control">
                                </label>
                                <label>Encoding:
                                    <select id="charset" name="charset" class="form-control">
                                    
                                        
                                            <option value="ansi_x3.110-1983">
                                                ansi_x3.110-1983
                                            </option>
                                        
                                            <option value="ansi_x3.4-1968">
                                                ansi_x3.4-1968
                                            </option>
                                        
                                            <option value="armscii-8">
                                                armscii-8
                                            </option>
                                        
                                            <option value="asmo_449">
                                                asmo_449
                                            </option>
                                        
                                            <option value="big5">
                                                big5
                                            </option>
                                        
                                            <option value="big5-hkscs">
                                                big5-hkscs
                                            </option>
                                        
                                            <option value="brf">
                                                brf
                                            </option>
                                        
                                            <option value="bs_4730">
                                                bs_4730
                                            </option>
                                        
                                            <option value="bs_viewdata">
                                                bs_viewdata
                                            </option>
                                        
                                            <option value="cp10007">
                                                cp10007
                                            </option>
                                        
                                            <option value="cp1125">
                                                cp1125
                                            </option>
                                        
                                            <option value="cp1250">
                                                cp1250
                                            </option>
                                        
                                            <option value="cp1253">
                                                cp1253
                                            </option>
                                        
                                            <option value="cp1254">
                                                cp1254
                                            </option>
                                        
                                            <option value="cp1255">
                                                cp1255
                                            </option>
                                        
                                            <option value="cp1256">
                                                cp1256
                                            </option>
                                        
                                            <option value="cp1257">
                                                cp1257
                                            </option>
                                        
                                            <option value="cp1258">
                                                cp1258
                                            </option>
                                        
                                            <option value="cp737">
                                                cp737
                                            </option>
                                        
                                            <option value="cp770">
                                                cp770
                                            </option>
                                        
                                            <option value="cp771">
                                                cp771
                                            </option>
                                        
                                            <option value="cp772">
                                                cp772
                                            </option>
                                        
                                            <option value="cp773">
                                                cp773
                                            </option>
                                        
                                            <option value="cp774">
                                                cp774
                                            </option>
                                        
                                            <option value="cp775">
                                                cp775
                                            </option>
                                        
                                            <option value="csa_z243.4-1985-1">
                                                csa_z243.4-1985-1
                                            </option>
                                        
                                            <option value="csa_z243.4-1985-2">
                                                csa_z243.4-1985-2
                                            </option>
                                        
                                            <option value="csa_z243.4-1985-gr">
                                                csa_z243.4-1985-gr
                                            </option>
                                        
                                            <option value="csn_369103">
                                                csn_369103
                                            </option>
                                        
                                            <option value="cwi">
                                                cwi
                                            </option>
                                        
                                            <option value="dec-mcs">
                                                dec-mcs
                                            </option>
                                        
                                            <option value="din_66003">
                                                din_66003
                                            </option>
                                        
                                            <option value="ds_2089">
                                                ds_2089
                                            </option>
                                        
                                            <option value="ebcdic-at-de">
                                                ebcdic-at-de
                                            </option>
                                        
                                            <option value="ebcdic-at-de-a">
                                                ebcdic-at-de-a
                                            </option>
                                        
                                            <option value="ebcdic-ca-fr">
                                                ebcdic-ca-fr
                                            </option>
                                        
                                            <option value="ebcdic-dk-no">
                                                ebcdic-dk-no
                                            </option>
                                        
                                            <option value="ebcdic-dk-no-a">
                                                ebcdic-dk-no-a
                                            </option>
                                        
                                            <option value="ebcdic-es">
                                                ebcdic-es
                                            </option>
                                        
                                            <option value="ebcdic-es-a">
                                                ebcdic-es-a
                                            </option>
                                        
                                            <option value="ebcdic-es-s">
                                                ebcdic-es-s
                                            </option>
                                        
                                            <option value="ebcdic-fi-se">
                                                ebcdic-fi-se
                                            </option>
                                        
                                            <option value="ebcdic-fi-se-a">
                                                ebcdic-fi-se-a
                                            </option>
                                        
                                            <option value="ebcdic-fr">
                                                ebcdic-fr
                                            </option>
                                        
                                            <option value="ebcdic-is-friss">
                                                ebcdic-is-friss
                                            </option>
                                        
                                            <option value="ebcdic-it">
                                                ebcdic-it
                                            </option>
                                        
                                            <option value="ebcdic-pt">
                                                ebcdic-pt
                                            </option>
                                        
                                            <option value="ebcdic-uk">
                                                ebcdic-uk
                                            </option>
                                        
                                            <option value="ebcdic-us">
                                                ebcdic-us
                                            </option>
                                        
                                            <option value="ecma-cyrillic">
                                                ecma-cyrillic
                                            </option>
                                        
                                            <option value="es">
                                                es
                                            </option>
                                        
                                            <option value="es2">
                                                es2
                                            </option>
                                        
                                            <option value="euc-jisx0213">
                                                euc-jisx0213
                                            </option>
                                        
                                            <option value="euc-jp">
                                                euc-jp
                                            </option>
                                        
                                            <option value="euc-jp-ms">
                                                euc-jp-ms
                                            </option>
                                        
                                            <option value="euc-kr">
                                                euc-kr
                                            </option>
                                        
                                            <option value="euc-tw">
                                                euc-tw
                                            </option>
                                        
                                            <option value="gb18030">
                                                gb18030
                                            </option>
                                        
                                            <option value="gb2312">
                                                gb2312
                                            </option>
                                        
                                            <option value="gb_1988-80">
                                                gb_1988-80
                                            </option>
                                        
                                            <option value="gbk">
                                                gbk
                                            </option>
                                        
                                            <option value="georgian-academy">
                                                georgian-academy
                                            </option>
                                        
                                            <option value="georgian-ps">
                                                georgian-ps
                                            </option>
                                        
                                            <option value="gost_19768-74">
                                                gost_19768-74
                                            </option>
                                        
                                            <option value="greek-ccitt">
                                                greek-ccitt
                                            </option>
                                        
                                            <option value="greek7">
                                                greek7
                                            </option>
                                        
                                            <option value="greek7-old">
                                                greek7-old
                                            </option>
                                        
                                            <option value="gsm03.38">
                                                gsm03.38
                                            </option>
                                        
                                            <option value="hp-greek8">
                                                hp-greek8
                                            </option>
                                        
                                            <option value="hp-roman8">
                                                hp-roman8
                                            </option>
                                        
                                            <option value="hp-roman9">
                                                hp-roman9
                                            </option>
                                        
                                            <option value="hp-thai8">
                                                hp-thai8
                                            </option>
                                        
                                            <option value="hp-turkish8">
                                                hp-turkish8
                                            </option>
                                        
                                            <option value="hz-gb-2312">
                                                hz-gb-2312
                                            </option>
                                        
                                            <option value="ibm037">
                                                ibm037
                                            </option>
                                        
                                            <option value="ibm038">
                                                ibm038
                                            </option>
                                        
                                            <option value="ibm1004">
                                                ibm1004
                                            </option>
                                        
                                            <option value="ibm1026">
                                                ibm1026
                                            </option>
                                        
                                            <option value="ibm1047">
                                                ibm1047
                                            </option>
                                        
                                            <option value="ibm1124">
                                                ibm1124
                                            </option>
                                        
                                            <option value="ibm1129">
                                                ibm1129
                                            </option>
                                        
                                            <option value="ibm1132">
                                                ibm1132
                                            </option>
                                        
                                            <option value="ibm1133">
                                                ibm1133
                                            </option>
                                        
                                            <option value="ibm1160">
                                                ibm1160
                                            </option>
                                        
                                            <option value="ibm1161">
                                                ibm1161
                                            </option>
                                        
                                            <option value="ibm1162">
                                                ibm1162
                                            </option>
                                        
                                            <option value="ibm1163">
                                                ibm1163
                                            </option>
                                        
                                            <option value="ibm1164">
                                                ibm1164
                                            </option>
                                        
                                            <option value="ibm256">
                                                ibm256
                                            </option>
                                        
                                            <option value="ibm273">
                                                ibm273
                                            </option>
                                        
                                            <option value="ibm274">
                                                ibm274
                                            </option>
                                        
                                            <option value="ibm275">
                                                ibm275
                                            </option>
                                        
                                            <option value="ibm277">
                                                ibm277
                                            </option>
                                        
                                            <option value="ibm278">
                                                ibm278
                                            </option>
                                        
                                            <option value="ibm280">
                                                ibm280
                                            </option>
                                        
                                            <option value="ibm281">
                                                ibm281
                                            </option>
                                        
                                            <option value="ibm284">
                                                ibm284
                                            </option>
                                        
                                            <option value="ibm285">
                                                ibm285
                                            </option>
                                        
                                            <option value="ibm290">
                                                ibm290
                                            </option>
                                        
                                            <option value="ibm297">
                                                ibm297
                                            </option>
                                        
                                            <option value="ibm420">
                                                ibm420
                                            </option>
                                        
                                            <option value="ibm423">
                                                ibm423
                                            </option>
                                        
                                            <option value="ibm424">
                                                ibm424
                                            </option>
                                        
                                            <option value="ibm437">
                                                ibm437
                                            </option>
                                        
                                            <option value="ibm500">
                                                ibm500
                                            </option>
                                        
                                            <option value="ibm850">
                                                ibm850
                                            </option>
                                        
                                            <option value="ibm851">
                                                ibm851
                                            </option>
                                        
                                            <option value="ibm852">
                                                ibm852
                                            </option>
                                        
                                            <option value="ibm855">
                                                ibm855
                                            </option>
                                        
                                            <option value="ibm856">
                                                ibm856
                                            </option>
                                        
                                            <option value="ibm857">
                                                ibm857
                                            </option>
                                        
                                            <option value="ibm860">
                                                ibm860
                                            </option>
                                        
                                            <option value="ibm861">
                                                ibm861
                                            </option>
                                        
                                            <option value="ibm862">
                                                ibm862
                                            </option>
                                        
                                            <option value="ibm863">
                                                ibm863
                                            </option>
                                        
                                            <option value="ibm864">
                                                ibm864
                                            </option>
                                        
                                            <option value="ibm865">
                                                ibm865
                                            </option>
                                        
                                            <option value="ibm866">
                                                ibm866
                                            </option>
                                        
                                            <option value="ibm866nav">
                                                ibm866nav
                                            </option>
                                        
                                            <option value="ibm868">
                                                ibm868
                                            </option>
                                        
                                            <option value="ibm869">
                                                ibm869
                                            </option>
                                        
                                            <option value="ibm870">
                                                ibm870
                                            </option>
                                        
                                            <option value="ibm871">
                                                ibm871
                                            </option>
                                        
                                            <option value="ibm874">
                                                ibm874
                                            </option>
                                        
                                            <option value="ibm875">
                                                ibm875
                                            </option>
                                        
                                            <option value="ibm880">
                                                ibm880
                                            </option>
                                        
                                            <option value="ibm891">
                                                ibm891
                                            </option>
                                        
                                            <option value="ibm903">
                                                ibm903
                                            </option>
                                        
                                            <option value="ibm904">
                                                ibm904
                                            </option>
                                        
                                            <option value="ibm905">
                                                ibm905
                                            </option>
                                        
                                            <option value="ibm918">
                                                ibm918
                                            </option>
                                        
                                            <option value="ibm922">
                                                ibm922
                                            </option>
                                        
                                            <option value="iec_p27-1">
                                                iec_p27-1
                                            </option>
                                        
                                            <option value="inis">
                                                inis
                                            </option>
                                        
                                            <option value="inis-8">
                                                inis-8
                                            </option>
                                        
                                            <option value="inis-cyrillic">
                                                inis-cyrillic
                                            </option>
                                        
                                            <option value="invariant">
                                                invariant
                                            </option>
                                        
                                            <option value="isiri-3342">
                                                isiri-3342
                                            </option>
                                        
                                            <option value="iso-8859-1">
                                                iso-8859-1
                                            </option>
                                        
                                            <option value="iso-8859-10">
                                                iso-8859-10
                                            </option>
                                        
                                            <option value="iso-8859-11">
                                                iso-8859-11
                                            </option>
                                        
                                            <option value="iso-8859-13">
                                                iso-8859-13
                                            </option>
                                        
                                            <option value="iso-8859-14">
                                                iso-8859-14
                                            </option>
                                        
                                            <option value="iso-8859-15">
                                                iso-8859-15
                                            </option>
                                        
                                            <option value="iso-8859-16">
                                                iso-8859-16
                                            </option>
                                        
                                            <option value="iso-8859-2">
                                                iso-8859-2
                                            </option>
                                        
                                            <option value="iso-8859-3">
                                                iso-8859-3
                                            </option>
                                        
                                            <option value="iso-8859-4">
                                                iso-8859-4
                                            </option>
                                        
                                            <option value="iso-8859-5">
                                                iso-8859-5
                                            </option>
                                        
                                            <option value="iso-8859-6">
                                                iso-8859-6
                                            </option>
                                        
                                            <option value="iso-8859-7">
                                                iso-8859-7
                                            </option>
                                        
                                            <option value="iso-8859-8">
                                                iso-8859-8
                                            </option>
                                        
                                            <option value="iso-8859-9">
                                                iso-8859-9
                                            </option>
                                        
                                            <option value="iso-8859-9e">
                                                iso-8859-9e
                                            </option>
                                        
                                            <option value="iso-ir-197">
                                                iso-ir-197
                                            </option>
                                        
                                            <option value="iso-ir-209">
                                                iso-ir-209
                                            </option>
                                        
                                            <option value="iso-ir-90">
                                                iso-ir-90
                                            </option>
                                        
                                            <option value="iso_10367-box">
                                                iso_10367-box
                                            </option>
                                        
                                            <option value="iso_10646">
                                                iso_10646
                                            </option>
                                        
                                            <option value="iso_11548-1">
                                                iso_11548-1
                                            </option>
                                        
                                            <option value="iso_2033-1983">
                                                iso_2033-1983
                                            </option>
                                        
                                            <option value="iso_5427">
                                                iso_5427
                                            </option>
                                        
                                            <option value="iso_5427-ext">
                                                iso_5427-ext
                                            </option>
                                        
                                            <option value="iso_5428">
                                                iso_5428
                                            </option>
                                        
                                            <option value="iso_646.basic">
                                                iso_646.basic
                                            </option>
                                        
                                            <option value="iso_646.irv">
                                                iso_646.irv
                                            </option>
                                        
                                            <option value="iso_6937">
                                                iso_6937
                                            </option>
                                        
                                            <option value="iso_6937-2-25">
                                                iso_6937-2-25
                                            </option>
                                        
                                            <option value="iso_6937-2-add">
                                                iso_6937-2-add
                                            </option>
                                        
                                            <option value="iso_8859-1,gl">
                                                iso_8859-1,gl
                                            </option>
                                        
                                            <option value="iso_8859-supp">
                                                iso_8859-supp
                                            </option>
                                        
                                            <option value="it">
                                                it
                                            </option>
                                        
                                            <option value="jis_c6220-1969-jp">
                                                jis_c6220-1969-jp
                                            </option>
                                        
                                            <option value="jis_c6220-1969-ro">
                                                jis_c6220-1969-ro
                                            </option>
                                        
                                            <option value="jis_c6229-1984-a">
                                                jis_c6229-1984-a
                                            </option>
                                        
                                            <option value="jis_c6229-1984-b">
                                                jis_c6229-1984-b
                                            </option>
                                        
                                            <option value="jis_c6229-1984-b-add">
                                                jis_c6229-1984-b-add
                                            </option>
                                        
                                            <option value="jis_c6229-1984-hand">
                                                jis_c6229-1984-hand
                                            </option>
                                        
                                            <option value="jis_c6229-1984-hand-add">
                                                jis_c6229-1984-hand-add
                                            </option>
                                        
                                            <option value="jis_c6229-1984-kana">
                                                jis_c6229-1984-kana
                                            </option>
                                        
                                            <option value="jis_x0201">
                                                jis_x0201
                                            </option>
                                        
                                            <option value="johab">
                                                johab
                                            </option>
                                        
                                            <option value="jus_i.b1.002">
                                                jus_i.b1.002
                                            </option>
                                        
                                            <option value="jus_i.b1.003-mac">
                                                jus_i.b1.003-mac
                                            </option>
                                        
                                            <option value="jus_i.b1.003-serb">
                                                jus_i.b1.003-serb
                                            </option>
                                        
                                            <option value="koi-8">
                                                koi-8
                                            </option>
                                        
                                            <option value="koi8-r">
                                                koi8-r
                                            </option>
                                        
                                            <option value="koi8-ru">
                                                koi8-ru
                                            </option>
                                        
                                            <option value="koi8-t">
                                                koi8-t
                                            </option>
                                        
                                            <option value="koi8-u">
                                                koi8-u
                                            </option>
                                        
                                            <option value="ks_c_5601-1987">
                                                ks_c_5601-1987
                                            </option>
                                        
                                            <option value="ksc5636">
                                                ksc5636
                                            </option>
                                        
                                            <option value="latin-greek">
                                                latin-greek
                                            </option>
                                        
                                            <option value="latin-greek-1">
                                                latin-greek-1
                                            </option>
                                        
                                            <option value="mac-centraleurope">
                                                mac-centraleurope
                                            </option>
                                        
                                            <option value="mac-cyrillic">
                                                mac-cyrillic
                                            </option>
                                        
                                            <option value="mac-is">
                                                mac-is
                                            </option>
                                        
                                            <option value="mac-sami">
                                                mac-sami
                                            </option>
                                        
                                            <option value="mac-uk">
                                                mac-uk
                                            </option>
                                        
                                            <option value="macintosh">
                                                macintosh
                                            </option>
                                        
                                            <option value="mik">
                                                mik
                                            </option>
                                        
                                            <option value="msz_7795.3">
                                                msz_7795.3
                                            </option>
                                        
                                            <option value="nats-dano">
                                                nats-dano
                                            </option>
                                        
                                            <option value="nats-dano-add">
                                                nats-dano-add
                                            </option>
                                        
                                            <option value="nats-sefi">
                                                nats-sefi
                                            </option>
                                        
                                            <option value="nats-sefi-add">
                                                nats-sefi-add
                                            </option>
                                        
                                            <option value="nc_nc00-10">
                                                nc_nc00-10
                                            </option>
                                        
                                            <option value="nextstep">
                                                nextstep
                                            </option>
                                        
                                            <option value="nf_z_62-010">
                                                nf_z_62-010
                                            </option>
                                        
                                            <option value="nf_z_62-010_1973">
                                                nf_z_62-010_1973
                                            </option>
                                        
                                            <option value="ns_4551-1">
                                                ns_4551-1
                                            </option>
                                        
                                            <option value="ns_4551-2">
                                                ns_4551-2
                                            </option>
                                        
                                            <option value="pt">
                                                pt
                                            </option>
                                        
                                            <option value="pt154">
                                                pt154
                                            </option>
                                        
                                            <option value="pt2">
                                                pt2
                                            </option>
                                        
                                            <option value="rk1048">
                                                rk1048
                                            </option>
                                        
                                            <option value="sami">
                                                sami
                                            </option>
                                        
                                            <option value="sami-ws2">
                                                sami-ws2
                                            </option>
                                        
                                            <option value="sen_850200_b">
                                                sen_850200_b
                                            </option>
                                        
                                            <option value="sen_850200_c">
                                                sen_850200_c
                                            </option>
                                        
                                            <option value="shift_jis">
                                                shift_jis
                                            </option>
                                        
                                            <option value="shift_jisx0213">
                                                shift_jisx0213
                                            </option>
                                        
                                            <option value="t.101-g2">
                                                t.101-g2
                                            </option>
                                        
                                            <option value="t.61-7bit">
                                                t.61-7bit
                                            </option>
                                        
                                            <option value="t.61-8bit">
                                                t.61-8bit
                                            </option>
                                        
                                            <option value="tcvn5712-1">
                                                tcvn5712-1
                                            </option>
                                        
                                            <option value="tis-620">
                                                tis-620
                                            </option>
                                        
                                            <option value="tscii">
                                                tscii
                                            </option>
                                        
                                            <option value="us-ascii">
                                                us-ascii
                                            </option>
                                        
                                            <option value="utf-7">
                                                utf-7
                                            </option>
                                        
                                            <option value="utf-8" selected="">
                                                utf-8
                                            </option>
                                        
                                            <option value="videotex-suppl">
                                                videotex-suppl
                                            </option>
                                        
                                            <option value="viscii">
                                                viscii
                                            </option>
                                        
                                            <option value="windows-1251">
                                                windows-1251
                                            </option>
                                        
                                            <option value="windows-1252">
                                                windows-1252
                                            </option>
                                        
                                            <option value="windows-31j">
                                                windows-31j
                                            </option>
                                        
                                    
                                    </select>
                                </label>
                                <input type="button" onclick="loadfile(this);" class="btn btn-default" value="Re-open" id="btnReOpen">
                            </div>
                            <div class="col-xs-12 col-md-4 action-buttons">
                                <button type="button" class="btn btn-default" id="switch_editor_control" onclick="try {toggle_EditArea(this)} catch(e) {} return false" title="Switch to legacy editor.">Use legacy editor</button>
                                &nbsp;
                                <button type="submit" id="sform_submit" class="btn btn-primary" style="font-weight:bold">
                                    Save Changes
                                </button>
                                <input type="button" onclick="confirm_close(this);" class="btn btn-default" value="Close" id="btnClose">
                            </div>
                        </div>
                    </td>
                </tr>
                <tr class="show-ace-editor">
                    <td>
                        <div class="row">
                            <div class="col-xs-12 col-sm-4">
                                <a href="https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts" target="_blank" class="help-link">
                                    <span class="fas fa-external-link-alt"></span>
                                    Keyboard shortcuts
                                </a>
                            </div>
                            <!-- Editor Toolbar -->
                            <div class="col-xs-12 col-sm-8">
                                <div class="btn-toolbar editor-toolbar" role="toolbar">
                                    <div class="btn-group" role="group">
                                        <button id="btnSearch" type="button" onclick="toolbarActions(&#39;search&#39;)" class="btn btn-default" title="Search">
                                            <i class="fas fa-search"></i>
                                        </button>
                                        <button id="btnGoto" type="button" onclick="toolbarActions(&#39;goto&#39;)" class="btn btn-default" title="Go to line.">
                                            <i class="fas fa-terminal"></i>
                                        </button>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button id="btnUndo" type="button" onclick="toolbarActions(&#39;undo&#39;)" class="btn btn-default" title="Undo">
                                            <i class="fas fa-undo"></i>
                                        </button>
                                        <button id="btnRedo" type="button" onclick="toolbarActions(&#39;redo&#39;)" class="btn btn-default" title="Redo">
                                            <i class="fas fa-redo"></i>
                                        </button>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button id="btnLineWrap" type="button" onclick="toolbarActions(&#39;linewrap&#39;)" class="btn btn-default" title="Wrap">
                                            <i class="fas fa-arrows-alt-h"></i>
                                        </button>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <select id="ddlFontSizes" class="btn btn-default form-control btn-group-ddl">
                                        <option value="10">10px</option><option value="11">11px</option><option value="12">12px</option><option value="13">13px</option><option value="14">14px</option><option value="16">16px</option><option value="18">18px</option><option value="20">20px</option><option value="24">24px</option></select>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <select id="ddlModes" class="btn btn-default form-control btn-group-ddl">
                                        <option value="abap">ABAP</option><option value="abc">ABC</option><option value="actionscript">ActionScript</option><option value="ada">ADA</option><option value="apache_conf">Apache Conf</option><option value="asciidoc">AsciiDoc</option><option value="assembly_x86">Assembly x86</option><option value="autohotkey">AutoHotKey</option><option value="batchfile">BatchFile</option><option value="bro">Bro</option><option value="c_cpp">C and C++</option><option value="c9search">C9Search</option><option value="cirru">Cirru</option><option value="clojure">Clojure</option><option value="cobol">Cobol</option><option value="coffee">CoffeeScript</option><option value="coldfusion">ColdFusion</option><option value="csharp">C#</option><option value="csound_document">Csound Document</option><option value="csound_orchestra">Csound</option><option value="csound_score">Csound Score</option><option value="css">CSS</option><option value="curly">Curly</option><option value="d">D</option><option value="dart">Dart</option><option value="diff">Diff</option><option value="dockerfile">Dockerfile</option><option value="dot">Dot</option><option value="drools">Drools</option><option value="edifact">Edifact</option><option value="eiffel">Eiffel</option><option value="ejs">EJS</option><option value="elixir">Elixir</option><option value="elm">Elm</option><option value="erlang">Erlang</option><option value="forth">Forth</option><option value="fortran">Fortran</option><option value="ftl">FreeMarker</option><option value="gcode">Gcode</option><option value="gherkin">Gherkin</option><option value="gitignore">Gitignore</option><option value="glsl">Glsl</option><option value="gobstones">Gobstones</option><option value="golang">Go</option><option value="graphqlschema">GraphQLSchema</option><option value="groovy">Groovy</option><option value="haml">HAML</option><option value="handlebars">Handlebars</option><option value="haskell">Haskell</option><option value="haskell_cabal">Haskell Cabal</option><option value="haxe">haXe</option><option value="hjson">Hjson</option><option value="html">HTML</option><option value="html_elixir">HTML (Elixir)</option><option value="html_ruby">HTML (Ruby)</option><option value="ini">INI</option><option value="io">Io</option><option value="jack">Jack</option><option value="jade">Jade</option><option value="java">Java</option><option value="javascript">JavaScript</option><option value="json">JSON</option><option value="jsoniq">JSONiq</option><option value="jsp">JSP</option><option value="jssm">JSSM</option><option value="jsx">JSX</option><option value="julia">Julia</option><option value="kotlin">Kotlin</option><option value="latex">LaTeX</option><option value="less">LESS</option><option value="liquid">Liquid</option><option value="lisp">Lisp</option><option value="livescript">LiveScript</option><option value="logiql">LogiQL</option><option value="lsl">LSL</option><option value="lua">Lua</option><option value="luapage">LuaPage</option><option value="lucene">Lucene</option><option value="makefile">Makefile</option><option value="markdown">Markdown</option><option value="mask">Mask</option><option value="matlab">MATLAB</option><option value="maze">Maze</option><option value="mel">MEL</option><option value="mixal">MIXAL</option><option value="mushcode">MUSHCode</option><option value="mysql">MySQL</option><option value="nix">Nix</option><option value="nsis">NSIS</option><option value="objectivec">Objective-C</option><option value="ocaml">OCaml</option><option value="pascal">Pascal</option><option value="perl">Perl</option><option value="pgsql">pgSQL</option><option value="php">PHP</option><option value="pig">Pig</option><option value="powershell">Powershell</option><option value="praat">Praat</option><option value="prolog">Prolog</option><option value="properties">Properties</option><option value="protobuf">Protobuf</option><option value="python">Python</option><option value="r">R</option><option value="razor">Razor</option><option value="rdoc">RDoc</option><option value="red">Red</option><option value="rhtml">RHTML</option><option value="rst">RST</option><option value="ruby">Ruby</option><option value="rust">Rust</option><option value="sass">SASS</option><option value="scad">SCAD</option><option value="scala">Scala</option><option value="scheme">Scheme</option><option value="scss">SCSS</option><option value="sh">SH</option><option value="sjs">SJS</option><option value="smarty">Smarty</option><option value="snippets">snippets</option><option value="soy_template">Soy Template</option><option value="space">Space</option><option value="sql">SQL</option><option value="sqlserver">SQLServer</option><option value="stylus">Stylus</option><option value="svg">SVG</option><option value="swift">Swift</option><option value="tcl">Tcl</option><option value="tex">Tex</option><option value="text">Text</option><option value="textile">Textile</option><option value="toml">Toml</option><option value="tsx">TSX</option><option value="twig">Twig</option><option value="typescript">Typescript</option><option value="vala">Vala</option><option value="vbscript">VBScript</option><option value="velocity">Velocity</option><option value="verilog">Verilog</option><option value="vhdl">VHDL</option><option value="wollok">Wollok</option><option value="xml">XML</option><option value="xquery">XQuery</option><option value="yaml">YAML</option><option value="django">Django</option></select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td id="codewindow_container">
                        <!-- Editor -->
                        <div id="codewindow" class="show-ace-editor editor-area ace_editor ace-chrome ace_focus" style="font-size: 13px;" draggable="false"><textarea class="ace_text-input focus-visible" wrap="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="opacity: 0; left: 287.237px; height: 17px; width: 7.80127px; top: 240px;" data-focus-visible-added=""></textarea><div class="ace_gutter" aria-hidden="true"><div class="ace_layer ace_gutter-layer ace_folding-enabled" style="margin-top: -15px; height: 658px; width: 57px;"><div class="ace_gutter-cell " style="height: 17px;">338</div><div class="ace_gutter-cell " style="height: 17px;">339</div><div class="ace_gutter-cell " style="height: 17px;">340</div><div class="ace_gutter-cell " style="height: 17px;">341</div><div class="ace_gutter-cell " style="height: 17px;">342<span class="ace_fold-widget ace_start ace_open" style="height: 17px;"></span></div><div class="ace_gutter-cell " style="height: 17px;">343<span class="ace_fold-widget ace_start ace_open" style="height: 17px;"></span></div><div class="ace_gutter-cell " style="height: 17px;">344</div><div class="ace_gutter-cell " style="height: 17px;">345</div><div class="ace_gutter-cell " style="height: 17px;">346</div><div class="ace_gutter-cell " style="height: 17px;">347</div><div class="ace_gutter-cell " style="height: 17px;">348</div><div class="ace_gutter-cell " style="height: 17px;">349</div><div class="ace_gutter-cell " style="height: 17px;">350</div><div class="ace_gutter-cell " style="height: 17px;">351</div><div class="ace_gutter-cell " style="height: 17px;">352</div><div class="ace_gutter-cell " style="height: 17px;">353<span class="ace_fold-widget ace_start ace_open" style="height: 17px;"></span></div><div class="ace_gutter-cell " style="height: 17px;">354</div><div class="ace_gutter-cell " style="height: 17px;">355</div><div class="ace_gutter-cell " style="height: 17px;">356<span class="ace_fold-widget ace_start ace_open" style="height: 17px;"></span></div><div class="ace_gutter-cell " style="height: 17px;">357</div><div class="ace_gutter-cell " style="height: 17px;">358</div><div class="ace_gutter-cell " style="height: 17px;">359</div><div class="ace_gutter-cell " style="height: 17px;">360</div><div class="ace_gutter-cell " style="height: 17px;">361</div><div class="ace_gutter-cell " style="height: 17px;">362</div><div class="ace_gutter-cell " style="height: 17px;">363</div><div class="ace_gutter-cell " style="height: 17px;">364</div><div class="ace_gutter-cell " style="height: 17px;">365<span class="ace_fold-widget ace_start ace_open" style="height: 17px;"></span></div><div class="ace_gutter-cell " style="height: 17px;">366<span class="ace_fold-widget ace_start ace_open" style="height: 17px;"></span></div><div class="ace_gutter-cell " style="height: 17px;">367</div><div class="ace_gutter-cell " style="height: 17px;">368</div><div class="ace_gutter-cell " style="height: 17px;">369</div><div class="ace_gutter-cell " style="height: 17px;">370<span class="ace_fold-widget ace_start ace_open" style="height: 17px;"></span></div><div class="ace_gutter-cell " style="height: 17px;">371</div><div class="ace_gutter-cell " style="height: 17px;">372</div><div class="ace_gutter-cell " style="height: 17px;">373</div><div class="ace_gutter-cell " style="height: 17px;">374<span class="ace_fold-widget ace_start ace_open" style="height: 17px;"></span></div><div class="ace_gutter-cell " style="height: 17px;">375</div><div class="ace_gutter-cell " style="height: 17px;">376</div></div><div class="ace_gutter-active-line" style="top: 240px; height: 17px;"></div></div><div class="ace_scroller" style="left: 57px; right: 0px; bottom: 0px;"><div class="ace_content" style="margin-top: -15px; width: 1482px; height: 658px; margin-left: 0px;"><div class="ace_layer ace_print-margin-layer"><div class="ace_print-margin" style="left: 628px; visibility: visible;"></div></div><div class="ace_layer ace_marker-layer"><div class="ace_active-line" style="height:17px;top:255px;left:0;right:0;"></div></div><div class="ace_layer ace_text-layer" style="padding: 0px 4px;"><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$data</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'post'</span><span class="ace_paren ace_rparen">]</span><span class="ace_keyword ace_operator">=</span><span class="ace_variable">$new_post</span>;    </div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>  <span class="ace_variable">$data</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'errormsg'</span><span class="ace_paren ace_rparen">]</span><span class="ace_keyword ace_operator">=</span><span class="ace_string">"post not created, something went wrong."</span>;    </div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>  <span class="ace_support ace_function">return</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">WP_REST_Response</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$data</span>, <span class="ace_constant ace_numeric">403</span><span class="ace_paren ace_rparen">)</span>;   </div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">}</span></div><div class="ace_line" style="height:17px">    <span class="ace_paren ace_rparen">}</span><span class="ace_keyword">else</span><span class="ace_paren ace_lparen">{</span></div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_variable">$data</span>  <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">array</span><span class="ace_paren ace_lparen">(</span></div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_string">"status"</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">"error"</span>,</div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_string">"errormsg"</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">"user token expired"</span>,</div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_string">'error_code'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">"user_expire"</span></div><div class="ace_line" style="height:17px">    <span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:17px">    <span class="ace_paren ace_rparen">}</span></div><div class="ace_line" style="height:17px">    <span class="ace_support ace_function">return</span> <span class="ace_keyword">new</span> <span class="ace_support ace_class">WP_REST_Response</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$data</span>, <span class="ace_constant ace_numeric">403</span><span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:17px">    </div><div class="ace_line" style="height:17px">  <span class="ace_paren ace_rparen">}</span></div><div class="ace_line" style="height:17px">  </div><div class="ace_line" style="height:17px">  <span class="ace_keyword">function</span> <span class="ace_identifier">create_myEmergency</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$request</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span></div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>  </div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span> <span class="ace_keyword">global</span> <span class="ace_variable">$wpdb</span>;</div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span> <span class="ace_variable">$data</span>  <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">array</span><span class="ace_paren ace_lparen">(</span></div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_string">"status"</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">"ok"</span>,</div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_string">"errormsg"</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">""</span>,</div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_string">'error_code'</span> <span class="ace_keyword ace_operator">=&gt;</span> <span class="ace_string">""</span></div><div class="ace_line" style="height:17px">    <span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:17px">    <span class="ace_variable">$param</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$request</span><span class="ace_keyword ace_operator">-&gt;</span><span class="ace_identifier">get_params</span><span class="ace_paren ace_lparen">(</span><span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:17px">    <span class="ace_variable">$feed</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$param</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'feed'</span><span class="ace_paren ace_rparen">]</span>; </div><div class="ace_line" style="height:17px">    <span class="ace_variable">$token</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_variable">$param</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'token'</span><span class="ace_paren ace_rparen">]</span>;</div><div class="ace_line" style="height:17px">    <span class="ace_variable">$user_id</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_identifier">GetMobileAPIUserByIdToken</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$token</span><span class="ace_paren ace_rparen">)</span>;</div><div class="ace_line" style="height:17px">    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$user_id</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span></div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$feed</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'title'</span><span class="ace_paren ace_rparen">]</span><span class="ace_keyword ace_operator">==</span><span class="ace_string">''</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span></div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$feed</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'title'</span><span class="ace_paren ace_rparen">]</span><span class="ace_keyword ace_operator">=</span><span class="ace_string">"  "</span>;</div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">}</span></div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    </div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_keyword">if</span><span class="ace_paren ace_lparen">(</span><span class="ace_variable">$param</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'post_description'</span><span class="ace_paren ace_rparen">]</span><span class="ace_keyword ace_operator">==</span><span class="ace_string">''</span><span class="ace_paren ace_rparen">)</span><span class="ace_paren ace_lparen">{</span></div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span>    <span class="ace_variable">$param</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'post_description'</span><span class="ace_paren ace_rparen">]</span><span class="ace_keyword ace_operator">=</span><span class="ace_string">"  "</span>;</div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_paren ace_rparen">}</span></div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    </div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span>    <span class="ace_variable">$new_post</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_keyword">array</span><span class="ace_paren ace_lparen">(</span></div><div class="ace_line" style="height:17px"><span class="ace_indent-guide">    </span><span class="ace_indent-guide">    </span> <span class="ace_string">'ID'</span><span class="ace_keyword ace_operator">=&gt;</span><span class="ace_variable">$feed</span><span class="ace_paren ace_lparen">[</span><span class="ace_string">'ID'</span><span class="ace_paren ace_rparen">]</span>,</div></div><div class="ace_layer ace_marker-layer"></div><div class="ace_layer ace_cursor-layer"><div class="ace_cursor" style="left: 230.237px; top: 255px; width: 7.80127px; height: 17px;"></div></div></div><div class="ace_search right"><span action="hide" class="ace_searchbtn_close"></span><div class="ace_search_form"><input class="ace_search_field" placeholder="Search for" spellcheck="false"><span action="findPrev" class="ace_searchbtn prev"></span><span action="findNext" class="ace_searchbtn next"></span><span action="findAll" class="ace_searchbtn" title="Alt-Enter">All</span></div><div class="ace_replace_form" style="display: none;"><input class="ace_search_field" placeholder="Replace with" spellcheck="false"><span action="replaceAndFindNext" class="ace_searchbtn">Replace</span><span action="replaceAll" class="ace_searchbtn">All</span></div><div class="ace_search_options"><span action="toggleReplace" class="ace_button" title="Toggle Replace mode" style="float:left;margin-top:-2px;padding:0 5px;">+</span><span class="ace_search_counter">3 of 3</span><span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span><span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span><span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\b</span><span action="searchInSelection" class="ace_button" title="Search In Selection">S</span></div></div></div><div class="ace_scrollbar ace_scrollbar-v" style="width: 20px; bottom: 0px;"><div class="ace_scrollbar-inner" style="width: 20px; height: 32768px;"></div></div><div class="ace_scrollbar ace_scrollbar-h" style="height: 20px; left: 57px; right: 0px;"><div class="ace_scrollbar-inner" style="height: 20px; width: 1482px;"></div></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: hidden;"><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: visible;"></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; overflow: visible;">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</div></div></div>
                        <textarea id="legacy_codewindow" class="codepress " style="visibility:hidden" wrap="soft" name="page"></textarea>
                    </td>
                </tr>
            </tbody></table>
        </form>

        <script type="text/plain" id="general_encoding_changed_template">
            <p>
                The system was unable to save your document in “{old_charset}” encoding. Most likely, your document contains characters incompatible with “{old_charset}”.
            </p>

            <p>
                cPanel has upgraded your document to “{new_charset}” encoding. Please verify that the file opens correctly in your application.
            </p>

            <p>
                To learn more about file encoding, visit <a href="https://go.cpanel.net/encoding">https://go.cpanel.net/encoding</a>.
            </p>
        </script>

        

<img src="./mobileappapi.php - cPanel File Manager v3_files/progress_bar.gif" class="preloadedImage">
<img src="./mobileappapi.php - cPanel File Manager v3_files/check.png" class="preloadedImage">

<script id="cjt_error_dialog_template" type="text/plain">
<div class="error_notice">{error_html}</div>
</script>

<script id="cjt_http_error_dialog_template" type="text/plain">
<div class="error_notice http_error_notice">
    <div class="http_status">{status}: {status_text_html}</div>
    <div><a href="javascript:void(0)" class="http_error_details_link">Show/Hide Details</a></div>
    <div class="cjt_error_details" style="display:none">
        <div class="url">URL ({method}):<pre>{url_html}</pre></div>
        <div class="post">Body: <pre>{post_html}</pre></div>
        <div class="response">Response:<pre>{response_html}</pre></div>
    </div>
</div>
</script>

<script>
CPANEL.application = "cpaneld";
YAHOO.lang.augmentObject( CPANEL.Locale.prototype.LEXICON, {"Proceed":"Proceed","Error":"Error","An unknown error occurred.":"An unknown error occurred.","Success!":"Success!","OK":"OK","Notice":"Notice","HTTP ERROR":"HTTP ERROR","Cancel":"Cancel","ERROR":"ERROR","Processing …":"Processing …"} );
</script>

<script src="./mobileappapi.php - cPanel File Manager v3_files/ajaxapp-min.js"></script>


        <script type="text/javascript">
            var savedContent = "";
            var CHARSET = document.sform.charset.value;
            var USE_LEGACY_EDITOR = (0) ? true : false;
            if ( !window.LEXICON ) {
                LEXICON = {};
            }

            LEXICON.charset_changed = "Character Encoding Change";
            LEXICON.confirm_close   = "You have unsaved changes. Are you sure you want to close this window?";
            LEXICON.reloading       = "Reloading…";

            function loadfile(clicked_el) {
                var isFileEdited = false;
                if(ace_editor){
                    isFileEdited = !ace_editor.getSession().getUndoManager().isClean();
                }

                if(isFileEdited){
                    var sure = confirm("Are you sure you wish to open a new file? You will lose any changes you have made.");
                    if (!sure) {
                        return;
                    }
                }

                var filen = document.sform.path.value;
                var fpath = filen.split('/');;
                var filename = fpath.pop();
                var dir = fpath.join('/');
                var sdir = encodeURIComponent(dir);
                var sfilename = encodeURIComponent(filename);
                var charset = document.getElementById('charset').value;

                var pp = new CPANEL.ajax.Progress_Panel( DOM.generateId(), {
                    status_html : "Reloading…",
                    effect: CPANEL.ajax.FADE_MODAL
                } );

                if (clicked_el) {
                    pp.show_from_source(clicked_el);
                }
                else {
                    pp.show();
                }
                var tt_value = (USE_LEGACY_EDITOR) ? 1 : 0;
                document.location.href="?dir=" + sdir + "&file=" + sfilename + '&file_charset=' + charset + '&use_legacy_editor=' + tt_value;
                // update the title
                document.title = filename.replace(/\n|\r/, "").html_encode() + " - cPanel File Manager v3"
            }

            var LAST_NOTICE = null;

            function loadfdata(clicked_el) {
                var path     = DOM.get("path");
                var changedContent = "";
                var isFileEdited = true;
                if(USE_LEGACY_EDITOR){
                    changedContent = editAreaLoader.getValue(editAreaEl);
                } else {
                    var aceSession = ace_editor.getSession();
                    changedContent = aceSession.getValue();
                }

                if ( changedContent === savedContent && path.value === path.defaultValue ) {
                    isFileEdited = false;
                }

                if(!isFileEdited) {
                    LAST_NOTICE = new CPANEL.ajax.Dynamic_Notice({content:"You have made no changes to save.", level:"info", replaces:LAST_NOTICE});
                    return;
                }

                var match = path.value.match(/^(.+)\/([^\/]+)$/);
                if ( !match ) {
                    LAST_NOTICE = new CPANEL.ajax.Dynamic_Notice({content:"Invalid path.", level:"error", replaces:LAST_NOTICE});
                    return;
                }

                var api_params = {
                    module:   "Fileman",
                    func:     "savefile",
                    data:     {
                        dir:           match[1],
                        filename:      match[2],
                        content:       changedContent,
                        utf8_fallback: 1,
                        charset:       CHARSET
                    },
                    progress_panel: {
                        zIndex:      2500,
                        show_status: true,
                        source_el:   clicked_el,
                        status_html: "Saving “{the_file}” …".replace('{the_file}',match[2].html_encode()),
                        success_notice_options: { replaces:LAST_NOTICE },
                        before_success: function(result) {
                            savedContent = (USE_LEGACY_EDITOR) ? editAreaLoader.getValue(editAreaEl) : ace_editor.getValue();
                            return check_for_encoding_change.call(
                                this,
                                CPANEL.ajax.templates.general_encoding_changed_template,
                                result.cpanel_data
                            );
                        }
                    },
                    callback: {
                        success: function() { LAST_NOTICE = req.notice }
                    }
                };

                var req = CPANEL.api( api_params );

                return false;
            }
        </script>

        <script type="text/javascript" charset="utf-8" src="./mobileappapi.php - cPanel File Manager v3_files/ace.js">
        </script>
        <script type="text/javascript" charset="utf-8" src="./mobileappapi.php - cPanel File Manager v3_files/ext-modelist.js">
        </script>
        <script type="text/javascript" src="./mobileappapi.php - cPanel File Manager v3_files/edit_area_full.js"></script>
        <script type="text/javascript" src="./mobileappapi.php - cPanel File Manager v3_files/edit_area_resizer.js"></script>

        <script type="text/javascript" src="./mobileappapi.php - cPanel File Manager v3_files/jquery-3.2.0.min.js"></script>
        <script>
        

        
        var file_content = '&lt;?php\n\n@header(&#39;Access-Control-Allow-Origin: *&#39;);\n\nadd_action( &#39;rest_api_init&#39;, function() {\n    \n\tremove_filter( &#39;rest_pre_serve_request&#39;, &#39;rest_send_cors_headers&#39; );\n\tadd_filter( &#39;rest_pre_serve_request&#39;, function( $value ) {\n\t\theader( &#39;Access-Control-Allow-Origin: *&#39; );\n\t\theader( &#39;Access-Control-Allow-Methods: POST, GET, OPTIONS, PUT, DELETE&#39; );\n\t\theader( &#39;Access-Control-Allow-Credentials: true&#39; );\n\n\t\treturn $value;\n\t\t\n\t});\n}, 15 );\n\n\/\/require_once(&#39;vendor\/autoload.php&#39;);\nuse \\Firebase\\JWT\\JWT;\n\n\/**\n *\n * @wordpress-plugin\n * Plugin Name:       Mobile app API\n * Description:       All functions which is used in mobile app.\n * Version:           1.0\n * Author:            SS\n *\/\n\/\/ If this file is called directly, abort.\nif (!defined(&#39;WPINC&#39;)) {\n    die;\n}\n\n\/\/include_once(ABSPATH . &#39;wp-content\/plugins\/eyeconnect\/download-pdf.php&#39;);\n\n\nfunction ba_jwt_auth_expire($issuedAt)\n{\n    return $issuedAt + (7337493 * 1000);\n}\n\nadd_filter(&#39;jwt_auth_expire&#39;, &#39;ba_jwt_auth_expire&#39;);\n\nadd_action(&#39;rest_api_init&#39;, function () {\n    \n    register_rest_route(&#39;mobileapi\/v1&#39;, &#39;\/register&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;MobileApiMakeNewAuthor&#39;,\n    ));\n    \n    \/\/doProfileUpdate\n    \n    register_rest_route(&#39;mobileapi\/v1&#39;, &#39;\/doProfileUpdate&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;doProfileUpdate&#39;,\n    ));\n    \n     register_rest_route(&#39;mobileapi\/v1&#39;, &#39;\/GetUser&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;GetUser&#39;,\n    ));\n\n    register_rest_route(&#39;mobileapi\/v1&#39;, &#39;\/retrieve_password&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;RetrivePassword&#39;,\n    ));\n    \n\n  \n     register_rest_route(&#39;mobileapi\/v1\/&#39;, &#39;\/CreateStripeCapture&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;CreateStripeCapture&#39;,\n    ));\n    \n    \/\/CreateStripeUser\n    \n    register_rest_route(&#39;mobileapi\/v1\/&#39;, &#39;\/CreateStripeUser&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;CreateStripeUser&#39;,\n    ));\n    \n    register_rest_route(&#39;mobileapi\/v1\/&#39;, &#39;\/StripeCapture&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;StripeCapture&#39;,\n    ));\n    \n    \n     register_rest_route(&#39;mobileapi\/v1\/&#39;, &#39;\/StripeGetCards&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;StripeGetCards&#39;,\n    ));\n    \n  \n    \n    \/\/GetInboxList\n    \n    register_rest_route(&#39;mobileapi\/v1\/&#39;, &#39;\/GetInboxList&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;GetInboxList&#39;,\n    ));\n   \n    \n    register_rest_route(&#39;mobileapi\/v1\/&#39;, &#39;\/DeleteCard&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;DeleteCard&#39;,\n    ));\n    \n     register_rest_route(&#39;mobileapi\/v1\/&#39;, &#39;\/updateCustomer&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;updateCustomer&#39;,\n    ));\n    \n    \/\/updateCard\n    register_rest_route(&#39;mobileapi\/v1\/&#39;, &#39;\/updateCard&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;updateCard&#39;,\n    ));\n    \n    register_rest_route(&#39;mobileapi\/v1\/&#39;, &#39;\/GetSetting&#39;, array(\n        &#39;methods&#39; =&gt; &#39;GET&#39;,\n        &#39;callback&#39; =&gt; &#39;GetSetting&#39;,\n    ));\n    \n    register_rest_route(&#39;mobileapi\/v1\/&#39;, &#39;\/ValidateCode&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;ValidateCode&#39;,\n    ));\n    \n    register_rest_route( &#39;mobileapi\/v1\/&#39;, &#39;\/save_onesignal_id&#39;, array(\n            &#39;methods&#39; =&gt; &#39;POST&#39;, \n            &#39;callback&#39; =&gt; &#39;save_onesignal_id&#39; \n    ) );\n    \n    register_rest_route( &#39;mobileapi\/v1\/&#39;, &#39;\/get_nearby_resources&#39;, array(\n            &#39;methods&#39; =&gt; &#39;POST&#39;, \n            &#39;callback&#39; =&gt; &#39;callback_get_nearby_resources&#39;\n    ) );\n    \n    register_rest_route(&#39;mobileapi\/v1&#39;, &#39;\/change_password\/&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;manually_change_password&#39;\n    ));\n    \n    register_rest_route(&#39;mobileapi\/v1&#39;, &#39;\/resouces_list\/&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;callback_resouces_list&#39;\n    ));\n    \n    register_rest_route(&#39;mobileapi\/v1&#39;, &#39;\/vendor_categories\/&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;callback_vendor_categories&#39;\n    ));\n    \n     register_rest_route(&#39;mobileapi\/v1&#39;, &#39;\/getWeblinks\/&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;callback_getWeblinks&#39;\n    ));\n\n    register_rest_route(&#39;mobileapi\/v1&#39;, &#39;\/filter_resouces_data\/&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;callback_filter_resouces_data&#39;\n    ));\n    \n    register_rest_route(&#39;mobileapi\/v1&#39;, &#39;\/create_feed&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;createFeed&#39;\n    ));\n    \n    register_rest_route(&#39;mobileapi\/v1&#39;, &#39;\/create_myplaces&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;create_myplaces&#39;\n    ));\n    \n      register_rest_route(&#39;mobileapi&#39;, &#39;\/submit_comment&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;submitComment&#39;\n    ));\n    \n      register_rest_route(&#39;mobileapi&#39;, &#39;\/delete_places&#39;, array(\n        &#39;methods&#39; =&gt; &#39;POST&#39;,\n        &#39;callback&#39; =&gt; &#39;delete_places&#39;\n    ));\n    \n});\n\n\n  function delete_places($request){\n        global $wpdb;\n     $data  = array(\n        \&quot;status\&quot; =&gt; \&quot;ok\&quot;,\n        \&quot;errormsg\&quot; =&gt; \&quot;\&quot;,\n        &#39;error_code&#39; =&gt; \&quot;\&quot;\n    );\n    $param = $request-&gt;get_params();\n     $token = $param[&#39;token&#39;];\n     $post_id = $param[&#39;post_id&#39;];\n    $user_id = GetMobileAPIUserByIdToken($token);\n     if($user_id){\n          wp_delete_post($post_id);\n         return new WP_REST_Response($data, 200);\n     }else{\n         $data  = array(\n        \&quot;status\&quot; =&gt; \&quot;error\&quot;,\n        \&quot;errormsg\&quot; =&gt; \&quot;user token expired\&quot;,\n        &#39;error_code&#39; =&gt; \&quot;user_expire\&quot;\n        ); \n        \n         return new WP_REST_Response($data, 403);\n     }\n    \n  }\n\n\nfunction submitComment($request){\n   global $wpdb;\n    $data  = array(\n        \&quot;status\&quot; =&gt; \&quot;ok\&quot;,\n        \&quot;errormsg\&quot; =&gt; \&quot;\&quot;,\n        &#39;error_code&#39; =&gt; \&quot;\&quot;\n    );\n\n   \n    $param = $request-&gt;get_params();\n\n    $token = $param[&#39;token&#39;];\n    $post_id = $param[&#39;post_id&#39;];\n    $comment = $param[&#39;comment&#39;];\n    \n    $user_id = GetMobileAPIUserByIdToken($token);\n\n    if(!$user_id){\n       $data[&#39;status&#39;]     = \&quot;error\&quot;;\n       $data[&#39;errormsg&#39;]   = __(&#39;Invalid token&#39;);\n       $data[&#39;error_code&#39;] = \&quot;invalid_token\&quot;;\n       return new WP_REST_Response($data, 403);\t\n    }\n\n    \/\/ get user by user id\n    $user_temp= get_user_by(&#39;ID&#39;, $user_id);\n    $user= $user_temp-&gt;data;\n\n    if(empty($user)){\n       $data[&#39;status&#39;]     = \&quot;error\&quot;;\n       $data[&#39;errormsg&#39;]   = __(&#39;Invalid user&#39;);\n       $data[&#39;error_code&#39;] = \&quot;invalid_user\&quot;;\n       return new WP_REST_Response($data, 403);\t\n    }\n\n    \/\/ check if comment and post id exist\n    if($comment==&#39;&#39; || $post_id==&#39;&#39;){\n       $data[&#39;status&#39;]     = \&quot;error\&quot;;\n       $data[&#39;errormsg&#39;]   = __(&#39;Invalid request&#39;);\n       $data[&#39;error_code&#39;] = \&quot;invalid_request\&quot;;\n       return new WP_REST_Response($data, 403);\n    }\n\n\t  $args = array(\n\t    &#39;comment_post_ID&#39; =&gt; $post_id,\n\t    &#39;comment_author&#39; =&gt; $user-&gt;user_login,\n\t    &#39;comment_author_email&#39; =&gt; $user-&gt;user_email,\n\t    &#39;comment_author_url&#39; =&gt; &#39;http:\/\/&#39;,\n\t    &#39;comment_content&#39; =&gt; $comment,\n\t    &#39;comment_type&#39; =&gt; &#39;&#39;,\n\t    \/\/&#39;comment_parent&#39; =&gt; 0,\n\t    &#39;user_id&#39; =&gt; $user-&gt;ID,\n\t    &#39;comment_author_IP&#39; =&gt; $_SERVER[&#39;REMOTE_ADDR&#39;],\n\t    &#39;comment_date&#39; =&gt; current_time(&#39;mysql&#39;),\n\t    &#39;comment_approved&#39; =&gt; 1,\n\t  );\n\n\t  \/\/print_r($args); exit;\n    if(wp_insert_comment($args)){\n    \t$data  = array(\n\t        \&quot;status\&quot; =&gt; \&quot;ok\&quot;,\n\t        \&quot;msg\&quot;    =&gt; \&quot;comment submitted successfully\&quot;,\n\t        \&quot;errormsg\&quot; =&gt; \&quot;\&quot;,\n\t        &#39;error_code&#39; =&gt; \&quot;\&quot;\n       );\n       return new WP_REST_Response($data, 200);\n    }else{\n       $data[&#39;status&#39;]     = \&quot;error\&quot;;\n       $data[&#39;errormsg&#39;]   = __(&#39;Comment could not be submitted&#39;);\n       $data[&#39;error_code&#39;] = \&quot;invalid_request\&quot;;\n       return new WP_REST_Response($data, 403);\t\n    }\n}\n\nfunction createFeed($request){\n     global $wpdb;\n     $data  = array(\n        \&quot;status\&quot; =&gt; \&quot;ok\&quot;,\n        \&quot;errormsg\&quot; =&gt; \&quot;\&quot;,\n        &#39;error_code&#39; =&gt; \&quot;\&quot;\n    );\n    $param = $request-&gt;get_params();\n    \t\n    $token = $param[&#39;token&#39;];\n    $user_id = GetMobileAPIUserByIdToken($token);\n    if($user_id){\n        if($param[&#39;post_title&#39;]==&#39;&#39;){\n            $param[&#39;post_title&#39;]=\&quot;  \&quot;;\n        }\n        \n        if($param[&#39;post_description&#39;]==&#39;&#39;){\n            $param[&#39;post_description&#39;]=\&quot;  \&quot;;\n        }\n        $new_post = array(\n        &#39;post_title&#39; =&gt;$param[&#39;post_title&#39;],\n        &#39;post_content&#39; =&gt;$param[&#39;post_description&#39;],\n        &#39;post_status&#39; =&gt; &#39;publish&#39;,\n        &#39;post_author&#39; =&gt; $user_id,\n        &#39;post_type&#39; =&gt; &#39;large_scale&#39;,\n        &#39;post_category&#39; =&gt; array(0)\n        );\n        \n        $post_id = wp_insert_post($new_post);\n        \n        if($post_id){\n         update_post_meta($post_id,&#39;type&#39;,&#39;text&#39;); \n        $data[&#39;post&#39;]=$post_id;\n        return new WP_REST_Response($data, 200);\n        }else{\n          $data[&#39;post&#39;]=$new_post;    \n          $data[&#39;errormsg&#39;]=\&quot;post not created, something went wrong.\&quot;;    \n          return new WP_REST_Response($data, 403);   \n        }\n    }else{\n        $data  = array(\n        \&quot;status\&quot; =&gt; \&quot;error\&quot;,\n        \&quot;errormsg\&quot; =&gt; \&quot;user token expired\&quot;,\n        &#39;error_code&#39; =&gt; \&quot;user_expire\&quot;\n    );\n    }\n    return new WP_REST_Response($data, 403);\n    \n  }\n  \n  function create_myplaces($request){\n      \n     global $wpdb;\n     $data  = array(\n        \&quot;status\&quot; =&gt; \&quot;ok\&quot;,\n        \&quot;errormsg\&quot; =&gt; \&quot;\&quot;,\n        &#39;error_code&#39; =&gt; \&quot;\&quot;\n    );\n    $param = $request-&gt;get_params();\n    $feed = $param[&#39;feed&#39;];\t\n    $token = $param[&#39;token&#39;];\n    $user_id = GetMobileAPIUserByIdToken($token);\n    if($user_id){\n        if($feed[&#39;title&#39;]==&#39;&#39;){\n            $feed[&#39;title&#39;]=\&quot;  \&quot;;\n        }\n        \n        if($param[&#39;post_description&#39;]==&#39;&#39;){\n            $param[&#39;post_description&#39;]=\&quot;  \&quot;;\n        }\n        \n        $new_post = array(\n         &#39;ID&#39;=&gt;$feed[&#39;ID&#39;],\n        &#39;post_title&#39; =&gt;$feed[&#39;title&#39;],\n        &#39;post_content&#39; =&gt;$param[&#39;post_description&#39;],\n        &#39;post_status&#39; =&gt; &#39;publish&#39;,\n        &#39;post_author&#39; =&gt; $user_id,\n        &#39;post_type&#39; =&gt; &#39;my_places&#39;,\n        &#39;post_category&#39; =&gt; array(0)\n        );\n        \n        $post_id = wp_insert_post($new_post);\n        \n        if($post_id){\n          \n          \n          \n         if(count($feed)){\n           foreach($feed as $key=&gt; $f){\n              update_post_meta($post_id,$key,$f); \n           } \n           \n            $address = &#39;&#39;;\n            if($feed[&#39;street_address&#39;]!=&#39;&#39;){\n            $address .=$feed[&#39;street_address&#39;];\n           }\n           if($feed[&#39;street_address2&#39;]!=&#39;&#39;){\n            $address .=\&quot; \&quot;.$feed[&#39;street_address2&#39;];   \n           }\n           \n           if($data[&#39;city&#39;]!=&#39;&#39;){\n            $address .=\&quot; \&quot;.$feed[&#39;city&#39;];\n           }\n           \n            if($feed[&#39;state&#39;]!=&#39;&#39;){\n            $address .=\&quot;, \&quot;.$feed[&#39;state&#39;];\n           }\n           \n           if($feed[&#39;zip_code&#39;]!=&#39;&#39;){\n            $address .=\&quot;, \&quot;.$feed[&#39;zip_code&#39;];   \n           }\n           \n           if($feed[&#39;zip_code&#39;]!=&#39;&#39;){\n            $address .=\&quot; USA\&quot;;   \n           }\n           \n           \n         $key = get_option(&#39;options_google_map_key&#39;);\n       \n         $prepAddr = str_replace(&#39; &#39;, &#39;+&#39;, $address);\n        \n         $geo = wp_remote_fopen(&#39;https:\/\/maps.googleapis.com\/maps\/api\/geocode\/json?address=&#39; . urlencode($address) . &#39;&amp;key=&#39; . urlencode($key));\n\n                \/\/ We convert the JSON to an array\n         $geo = json_decode($geo, true);\n\n                \/\/ If everything is cool\n         if ($geo[&#39;status&#39;] = &#39;OK&#39;) {\n\n            $lat = $geo[&#39;results&#39;][0][&#39;geometry&#39;][&#39;location&#39;][&#39;lat&#39;];\n            $lon = $geo[&#39;results&#39;][0][&#39;geometry&#39;][&#39;location&#39;][&#39;lng&#39;];\n            \n            update_post_meta($post_id, &#39;map_lat&#39;, $lat);\n            update_post_meta($post_id, &#39;map_lng&#39;, $lon);\n            \n         }\n           \n           \n           \n           \n           \n           \n         }\n         $data[&#39;post&#39;]=$post_id;\n         $data[&#39;args&#39;]=$geo;\n        return new WP_REST_Response($data, 200);\n        }else{\n          $data[&#39;args&#39;]=$new_post;    \n          $data[&#39;errormsg&#39;]=\&quot;post not created, something went wrong.\&quot;;    \n          return new WP_REST_Response($data, 403);   \n        }\n    }else{\n        $data  = array(\n        \&quot;status\&quot; =&gt; \&quot;error\&quot;,\n        \&quot;errormsg\&quot; =&gt; \&quot;user token expired\&quot;,\n        &#39;error_code&#39; =&gt; \&quot;user_expire\&quot;\n    );\n    }\n    return new WP_REST_Response($data, 403);\n  }\n\n\/******************************************************************************\/\nfunction callback_resouces_list($request){\n    global $wpdb;\n    $param = $request-&gt;get_params();\n    $data  = array(\n        \&quot;status\&quot; =&gt; \&quot;ok\&quot;,\n        \&quot;errormsg\&quot; =&gt; \&quot;\&quot;,\n        &#39;error_code&#39; =&gt; \&quot;\&quot;\n    );\n    $token = $param[&#39;token&#39;];\n    $type = $param[&#39;type&#39;];\n    $user_id = GetMobileAPIUserByIdToken($token);\n    \n    if($type==\&quot;vendors\&quot;){\n      $type=\&quot;vendor_categories\&quot;;  \n    }\n     if($type==\&quot;resources\&quot;){\n        $type=\&quot;resources_category\&quot;;   \n    }\n    $terms = get_terms(array(&#39;taxonomy&#39; =&gt; $type, &#39;hide_empty&#39; =&gt; false));\n    $resources = array();\n    foreach($terms as $key =&gt; $term){\n        $term_id = $term-&gt;term_id;\n        $term_name = $term-&gt;name;\n        \n        $resource_img = $wpdb-&gt;get_col(\&quot;SELECT DISTINCT meta_value FROM \&quot;. $wpdb-&gt;termmeta .\&quot; WHERE meta_key = &#39;resource_image&#39; and term_id = \&quot;.$term_id.\&quot; ORDER BY meta_value\&quot;);\n        $img_id = $resource_img[0];\n        $img = wp_get_attachment_url( $img_id );\n        \n       $resources[$key][&#39;term_id&#39;] = $term_id; \n       $resources[$key][&#39;name&#39;] = $term_name;\n       $resources[$key][&#39;img&#39;] = $img;\n    }\n    $data[&#39;allResouces&#39;] = $resources;\n    return new WP_REST_Response($data, 200); \n}\n\nfunction callback_vendor_categories($request){\n    global $wpdb;\n    $param = $request-&gt;get_params();\n    $data  = array(\n        \&quot;status\&quot; =&gt; \&quot;ok\&quot;,\n        \&quot;errormsg\&quot; =&gt; \&quot;\&quot;,\n        &#39;error_code&#39; =&gt; \&quot;\&quot;\n    );\n    $token = $param[&#39;token&#39;];\n    $user_id = GetMobileAPIUserByIdToken($token);\n    $terms = get_terms(array(&#39;taxonomy&#39; =&gt; &#39;vendor_categories&#39;, &#39;hide_empty&#39; =&gt; false));\n    $resources = array();\n    foreach($terms as $key =&gt; $term){\n        $term_id = $term-&gt;term_id;\n        $term_name = $term-&gt;name;\n        \n        $resource_img = $wpdb-&gt;get_col(\&quot;SELECT DISTINCT meta_value FROM \&quot;. $wpdb-&gt;termmeta .\&quot; WHERE meta_key = &#39;resource_image&#39; and term_id = \&quot;.$term_id.\&quot; ORDER BY meta_value\&quot;);\n        $img_id = $resource_img[0];\n        $img = wp_get_attachment_url( $img_id );\n        \n       $resources[$key][&#39;term_id&#39;] = $term_id; \n       $resources[$key][&#39;name&#39;] = $term_name;\n       $resources[$key][&#39;img&#39;] = $img;\n    }\n    $data[&#39;allResouces&#39;] = $resources;\n    return new WP_REST_Response($data, 200); \n}\n\n\n\/\/callback_getWeblinks\n\nfunction callback_getWeblinks($request){\n    global $wpdb;\n    $param = $request-&gt;get_params();\n    $data  = array(\n        \&quot;status\&quot; =&gt; \&quot;ok\&quot;,\n        \&quot;errormsg\&quot; =&gt; \&quot;\&quot;,\n        &#39;error_code&#39; =&gt; \&quot;\&quot;\n    );\n    $token = $param[&#39;token&#39;];\n    $user_id = GetMobileAPIUserByIdToken($token);\n    $helpful_sites = get_posts(array(&#39;post_type&#39; =&gt; &#39;helpful_sites&#39;));\n    $resources = array();\n    foreach($helpful_sites as $term){\n        $term_id = $term-&gt;ID;\n        $term_name = $term-&gt;post_title;\n        \n        \/\/$img_id = $resource_img[0];\n        $img = wp_get_attachment_image_src( get_post_thumbnail_id($term_id), &#39;thumbnail&#39; );\n       $link=get_post_meta($term_id,&#39;link&#39;,true);\n       $resources[] =array(&#39;term_id&#39;=&gt;$term_id,&#39;name&#39;=&gt;$term_name,&#39;img&#39;=&gt;$img[0],&#39;link&#39;=&gt;$link); \n      \n    }\n    $data[&#39;allResouces&#39;] = $resources;\n    return new WP_REST_Response($data, 200); \n}\n\n\/******************************************************************************\/\n\/\/ Change password\nfunction manually_change_password($request){\n    global $wpdb; \n    $data  = array(\n        \&quot;status\&quot; =&gt; \&quot;ok\&quot;,\n        \&quot;errormsg\&quot; =&gt; \&quot;\&quot;,\n        &#39;error_code&#39; =&gt; \&quot;\&quot;\n    );\n    $param = $request-&gt;get_params();\n\t$token=$param[&#39;token&#39;];\n\t$user_id = GetMobileAPIUserByIdToken($token);\n\t$oldpass = $param[&#39;oldPassword&#39;];\n\t$new_pass = $param[&#39;password&#39;];\n\t$user = get_userdata($user_id);\n\t\n\t$check_password = wp_check_password($oldpass, $user-&gt;data-&gt;user_pass, $user_id); \n\t$update_password = array();\n\tif($check_password){\n\t    if(!empty($new_pass)){\n             $udata[&#39;ID&#39;] = $user-&gt;data-&gt;ID;\n             $udata[&#39;user_pass&#39;] = $new_pass;\n             $uid = wp_update_user($udata);\n             if($uid) {\n                    $update_password[&#39;success_msg&#39;] = \&quot;Password has been updated successfully\&quot;;\n                    $update_password[&#39;success&#39;] = \&quot;succeed\&quot;;\n                    \/\/unset($passdata);\n                }\n        }\n\t}\n\telse {\n        $update_password[&#39;error_msg&#39;] = \&quot;Old Password doesn&#39;t match the existing password\&quot;;\n        $update_password[&#39;error&#39;] = \&quot;errored\&quot;;\n    }\n\treturn new WP_REST_Response($update_password, 200);\n}\n\n\/******************************************************************************\/\nfunction callback_get_nearby_resources($request){\n    global $wpdb;\n    $data = array(\n    \&quot;status\&quot; =&gt; \&quot;ok\&quot;,\n    \&quot;errormsg\&quot; =&gt; \&quot;\&quot;,\n    &#39;error_code&#39; =&gt; \&quot;\&quot;,\n    );\n    $param = $request-&gt;get_params();\n    $token=$param[&#39;token&#39;];\n\t$user_id = GetMobileAPIUserByIdToken($token);\n    $lat = $param[&#39;lat&#39;];\n    $lng=$param[&#39;lng&#39;];\n    $filterbyLocation = false;\n    $category_id=$param[&#39;category_id&#39;];\n    $page_number=$param[&#39;page_number&#39;];\n    $type=$param[&#39;type&#39;];\n    $distance=50; \n\n    $post_per_page = 5;\n    $offset = ($page_number - 1)*$post_per_page;\n\n    \/\/ Radius of the earth 3959 miles or 6371 kilometers.\n    if(!empty($user_id)){\n\n\t    $earth_radius = 3959;\n\t   \/\/ if(empty($lat)  &amp;&amp; empty($lng) &amp;&amp; $filterbyLocation==false){\n\t    if($filterbyLocation==false){\n\t        $q=&#39;&#39;;\n\t        \n\t        if(isset($param[&#39;name&#39;]) &amp;&amp; trim($param[&#39;name&#39;])!=&#39;&#39;){\n\t        $q=\&quot; AND p.post_title LIKE &#39;%\&quot;.$param[&#39;name&#39;].\&quot;%&#39;\&quot;;\n\t        }\n\t        \n\t        if(isset($param[&#39;zipcode&#39;]) &amp;&amp; trim($param[&#39;zipcode&#39;])!=&#39;&#39;){\n\t        $q.=\&quot; AND m.meta_key = &#39;zipcode&#39; AND m.meta_value=&#39;\&quot;.$param[&#39;zipcode&#39;].\&quot;&#39;\&quot;;\n\t        }\n\t        \n\t        $sql = \&quot;\n\t        SELECT DISTINCT\n\t        p.ID,\n\t        p.post_title,(select meta_value from $wpdb-&gt;postmeta where post_id=p.ID AND meta_key=&#39;map_lat&#39;) as locLat ,\n\t        (select meta_value from $wpdb-&gt;postmeta where post_id=p.ID AND meta_key=&#39;map_lng&#39;) as locLong \n\t        FROM $wpdb-&gt;posts p\n\t        INNER JOIN $wpdb-&gt;postmeta m ON p.ID = m.post_id\n\t        INNER JOIN wp_term_relationships wtr ON p.ID=wtr.object_id\n\t        WHERE 1 = 1\n\t        AND wtr.term_taxonomy_id=$category_id\n\t        AND p.post_type =&#39;\&quot;.$type.\&quot;&#39;\n\t        AND p.post_status = &#39;publish&#39;\n\t        LIMIT $offset , $post_per_page\n\t        $q\&quot;;\n\t    }else{\n\t\t        $sql = $wpdb-&gt;prepare( \&quot;\n\t\t        SELECT DISTINCT\n\t\t        p.ID,\n\t\t        p.post_title,\n\t\t        map_lat.meta_value as locLat,\n\t\t        map_lng.meta_value as locLong,\n\t\t        ( %d * acos(\n\t\t        cos( radians( %s ) )\n\t\t        * cos( radians( map_lat.meta_value ) )\n\t\t        * cos( radians( map_lng.meta_value ) - radians( %s ) )\n\t\t        + sin( radians( %s ) )\n\t\t        * sin( radians( map_lat.meta_value ) )\n\t\t        ) )\n\t\t        AS distance\n\t\t        FROM $wpdb-&gt;posts p\n\t\t        INNER JOIN $wpdb-&gt;postmeta map_lat ON p.ID = map_lat.post_id\n\t\t        INNER JOIN $wpdb-&gt;postmeta map_lng ON p.ID = map_lng.post_id\n\t\t        INNER JOIN wp_term_relationships wtr ON p.ID=wtr.object_id\n\t\t        WHERE 1 = 1\n\t\t        AND p.post_type = &#39;resources&#39;\n\t\t        AND p.post_status = &#39;publish&#39;\n\t\t        AND map_lat.meta_key = &#39;map_lat&#39;\n\t\t        AND map_lng.meta_key = &#39;map_lng&#39;\n\t\t        AND wtr.term_taxonomy_id=%s\n\t\t        HAVING distance &lt; %s\n\t\t        ORDER BY distance ASC\n\t\t        LIMIT  $offset, $post_per_page\&quot;,\n\t\t        $earth_radius,\n\t\t        $lat,\n\t\t        $lng,\n\t\t        $lat,\n\t\t        $category_id,\n\t\t        $distance\t\t        \n\t\t        );\n\t\t}\n\n\t\t\n\t\t\t$nearbyLocations = $wpdb-&gt;get_results( $sql ,ARRAY_A);\n            if(count($nearbyLocations)&gt;0){\n\n                $nearbyLocations_data=array();\n                foreach ($nearbyLocations as $key =&gt; $value) {\n                    $nearbyLocations_values=array();\n                    $nearbyLocations_values[&#39;id&#39;]=$value[&#39;ID&#39;];\n                    $nearbyLocations_values[&#39;post_title&#39;]=$value[&#39;post_title&#39;];\n                    $nearbyLocations_values[&#39;locLat&#39;]=$value[&#39;locLat&#39;];\n                    $nearbyLocations_values[&#39;locLong&#39;]=$value[&#39;locLong&#39;];\n                    $nearbyLocations_values[&#39;resource_image&#39;]=get_the_post_thumbnail_url($value[&#39;ID&#39;]);\n                    $nearbyLocations_values[&#39;address&#39;]=get_post_meta($value[&#39;ID&#39;],&#39;address&#39;,true);\n                    $nearbyLocations_values[&#39;contact_number&#39;]=get_post_meta($value[&#39;ID&#39;],&#39;contact_number&#39;,true);\n\n                    $nearbyLocations_data[]=$nearbyLocations_values;\n                }\n\n\t\t\t\t$data[&#39;services&#39;]=$nearbyLocations_data;\n\t\t\t\t$data[&#39;page_number&#39;]=$page_number;\n\t\t\t}else{\n\t\t\t\t$data[&#39;services&#39;]=false;\n\t\t\t\t$data[&#39;page_number&#39;]=$page_number;\n\t\t\t}\n\t\t\treturn new WP_REST_Response($data, 200); \n\t} else {\n\t\t$data[&#39;errormsg&#39;]=\&quot;Invalid token\&quot;;\n\t\t$data[&#39;error_code&#39;]=\&quot;400\&quot;;\n\t\treturn new WP_REST_Response($data, 200); \n\t}\n}\n\/******************************************************************************\/\nfunction GetInboxList($request){\n    $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n    global $wpdb;\n     $param = $request-&gt;get_params();\n      $usertoken = $param[&#39;token&#39;];\n     $user_id = GetMobileAPIUserByIdToken($usertoken);\n    if ($user_id) {\n        $qry = \&quot;select * from wp_jet_push_notification where user_id=&#39;\&quot;.$user_id.\&quot;&#39; Order by id DESC\&quot;;\n        $res = $wpdb-&gt;get_results($qry,ARRAY_A );\n        if(count($res) &gt; 0){\n          \n          $list=array();\n          foreach($res as $ol){\n            \n              $list_u=array(\&quot;title\&quot;=&gt;$ol[&#39;title&#39;],\&quot;message\&quot;=&gt;$ol[&#39;message&#39;],\&quot;date\&quot;=&gt;$ol[&#39;date&#39;]);\n           $list[]= $list_u;  \n          }\n          $data[&#39;list&#39;]=$list;\n        }else{\n            $data[&#39;list&#39;]=false;\n        }\n        return new WP_REST_Response($data, 200);\n        \n    }\n    $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;user not found\&quot;, &#39;error_code&#39; =&gt; \&quot;403\&quot;);\n     return new WP_REST_Response($data, 403);\n}\n\n\nfunction save_onesignal_id($request){\n   \n    global $wpdb;\n    $param = $request-&gt;get_params();\n    $oneSignal = $param[&#39;oneSignID&#39;];\n    $token = $param[&#39;token&#39;];\n    $timezone = $param[&#39;timezone&#39;];\n   \n    $param[&#39;status&#39;]=\&quot;ok\&quot;;\n \n    \n    $user_id = GetMobileAPIUserByIdToken($token);\n\n    \n    if($user_id){\n        \n        \n          $row_pre_one = $wpdb-&gt;query(\&quot;delete from wp_usermeta where meta_key=&#39;one_signal_id&#39; and meta_value=&#39;\&quot;.$oneSignal.\&quot;&#39; and user_id!=&#39;\&quot;.$user_id.\&quot;&#39;\&quot;);\n        $row_pre_one2 = $wpdb-&gt;query(\&quot;delete from wp_usermeta where meta_key=&#39;one_signal_id_android&#39; and meta_value=&#39;\&quot;.$oneSignal.\&quot;&#39; and user_id!=&#39;\&quot;.$user_id.\&quot;&#39;\&quot;);\n        \n        \n        update_user_meta( $user_id,&#39;last_app_update&#39;,date(&#39;Y-m-d h:i:s&#39;));\n        \n      \n        \/\/$DeviceUdid\n       \n         @$type = $param[&#39;type&#39;];\n         if($type==\&quot;android\&quot;){\n             update_user_meta( $user_id,&#39;one_signal_id_android&#39;,$oneSignal);\n           }else{\n             $type==\&quot;ios\&quot;;  \n             update_user_meta( $user_id,&#39;one_signal_id&#39;,$oneSignal);\n           }\n           \n           \/\/ Manage Token with Devices\n           $res = $wpdb-&gt;get_row(\&quot;select * from wp_user_devices where token=&#39;\&quot;.$oneSignal.\&quot;&#39;\&quot;);\n          \n           if(count($res) &gt; 0){\n               \/\/$c= $wpdb-&gt;update(\&quot;wp_user_devices\&quot;,array(&#39;user_id&#39;=&gt;$user_id,&#39;type&#39;=&gt;$type,\&quot;timezone\&quot;=&gt;$timezone),array( &#39;token&#39; =&gt; $oneSignal ));\n               $wpdb-&gt;query(\&quot;UPDATE `wp_user_devices` SET `type` = &#39;\&quot;.$type.\&quot;&#39;,`user_id` = &#39;\&quot;.$user_id.\&quot;&#39;,`timezone` = &#39;\&quot;.$timezone.\&quot;&#39; WHERE `wp_user_devices`.`token` = &#39;\&quot;.$oneSignal.\&quot;&#39;;\&quot;);\n              \n           }else{\n               $wpdb-&gt;insert(\&quot;wp_user_devices\&quot;,array(&#39;user_id&#39;=&gt;$user_id,&#39;token&#39;=&gt;$oneSignal,&#39;type&#39;=&gt;$type,\&quot;timezone\&quot;=&gt;$timezone));\n           }\n           \n           \n           \n           if($timezone!=&#39;&#39;){\n              update_user_meta( $user_id,&#39;time_zone&#39;,$timezone); \n           }\n      \n        return new WP_REST_Response($param, 200);  \n    }else{\n      $param[&#39;status&#39;]=\&quot;error\&quot;; \n      return new WP_REST_Response($param, 200);  \n    }\n}\n\nfunction ValidateCode($request){\n     global $wpdb;\n     $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n     $param = $request-&gt;get_params();\n     $code = $param[&#39;code&#39;];\n     $usertoken = $param[&#39;token&#39;];\n     $user_id = GetMobileAPIUserByIdToken($usertoken);  \n     if($user_id){\n     if(!empty($code)){\n        $args = array(\n        \t&#39;meta_key&#39;         =&gt; &#39;coupon_code&#39;,\n        \t&#39;meta_value&#39;       =&gt; $code,\n        \t&#39;post_type&#39;        =&gt; &#39;coupons&#39;,\n         );\n    $posts_array = get_posts( $args );\n    $c= count($posts_array);\n    if($c&gt;0){\n          \n          $limit = get_field(\&quot;limit\&quot;,$posts_array[0]-&gt;ID);\n          \n          $to_date = get_field(\&quot;to_date\&quot;,$posts_array[0]-&gt;ID);\n          $toTime = strtotime($to_date);\n          \n          $from_date = get_field(\&quot;from_date\&quot;,$posts_array[0]-&gt;ID);\n          $fromdate = strtotime($from_date);\n          \n          $c_date = date(&#39;Y-m-d&#39;);\n          $cdate = strtotime($c_date);\n          \n          if($cdate &lt; $fromdate){\n             $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;coupon code is not valid.\&quot;, &#39;error_code&#39; =&gt; \&quot;from_less\&quot;);\n             return new WP_REST_Response($data, 403);  \n          }\n          \n          if($cdate &gt; $toTime){\n             $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;coupon code is expired.\&quot;, &#39;error_code&#39; =&gt;\&quot;code_expire\&quot;);\n             return new WP_REST_Response($data, 403);  \n          }\n          \n         $countUsed = $wpdb-&gt;get_results(\&quot;SELECT * FROM `stripe_charge` WHERE `code` = &#39;\&quot;.$code.\&quot;&#39; and status=1\&quot;);\n         if(count($countUsed) &gt;= $limit){\n             $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;coupon code is not valid.\&quot;, &#39;error_code&#39; =&gt; \&quot;limit_reached\&quot;);\n             return new WP_REST_Response($data, 403); \n         }\n         \n         $countUserUsed = $wpdb-&gt;get_results(\&quot;SELECT * FROM `stripe_charge` WHERE `code` = &#39;\&quot;.$code.\&quot;&#39; and status=1 and user_id= \&quot;.$user_id);\n         if(count($countUserUsed) &gt;0){\n             $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;coupon code is not valid.\&quot;, &#39;error_code&#39; =&gt; \&quot;user_already_used\&quot;);\n             return new WP_REST_Response($data, 403); \n         }\n          \n          $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;,);\n          return new WP_REST_Response($data, 200);        \n       }else{\n          $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;code not valid\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n          return new WP_REST_Response($data, 403); \n       }\n     }\n     }\n      $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;something went wrong.\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n      return new WP_REST_Response($data, 403);\n}\n\n\nfunction GetSetting($request){\n    global $wpdb;\n     $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n     $param = $request-&gt;get_params();\n          $term_of_services=get_option(&#39;options_term_of_services&#39;);\n          \n          $about = array(&#39;term_of_services&#39;=&gt;$term_of_services);\n          $data[&#39;web_data&#39;]=$about;\n          return new WP_REST_Response($data, 200);\n     \n}\n\nfunction updateCustomer($request){\n  \n    global $wpdb;\n     $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n      $param = $request-&gt;get_params();\n      $card = $param[&#39;card&#39;];\n      $usertoken = $param[&#39;token&#39;];\n     $user_id = GetMobileAPIUserByIdToken($usertoken);\n     if($user_id){\n         \n         $stripeid=get_user_meta($user_id,&#39;stripe_id&#39;,true);\n        if($stripeid){\n                 require_once(&#39;stripe\/init.php&#39;);\n              $secret_key = get_option( &#39;options_secret_key&#39; );\n              $publishable_key = get_option( &#39;options_publisher_key&#39; );\n              $stripe = array(\n                 \&quot;secret_key\&quot; =&gt; $secret_key,\n                 \&quot;publishable_key\&quot; =&gt; $publishable_key\n             );\n             \n             \\Stripe\\Stripe::setApiKey($stripe[&#39;secret_key&#39;]);\n             \n             \\Stripe\\Customer::update(\n                 $stripeid,\n                  [\n                    &#39;default_source&#39;=&gt;$card\n                  ]\n                );\n            $cards = \\Stripe\\Customer::allSources(\n              $stripeid,\n              [\n                &#39;limit&#39; =&gt; 100,\n                &#39;object&#39; =&gt; &#39;card&#39;,\n              ]\n            );\n            $data[&#39;cards&#39;]=$cards;\n            $data[&#39;customer&#39;]=\\Stripe\\Customer::retrieve($stripeid);\n            return new WP_REST_Response($data, 200);\n        }\n     }\n     $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;user not found\&quot;, &#39;error_code&#39; =&gt; \&quot;403\&quot;,&#39;free_count&#39;=&gt;false);\n     return new WP_REST_Response($data, 403);  \n}\n\n\n\/\/updateCard\nfunction updateCard($request){\n    global $wpdb;\n     $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n      $param = $request-&gt;get_params();\n      $usertoken = $param[&#39;token&#39;];\n      $card = $param[&#39;card&#39;];\n      \n      $name = $param[&#39;name&#39;];\n      $expMonth = $param[&#39;expMonth&#39;];\n      $expYear = $param[&#39;expYear&#39;];\n      \n      if($expMonth&gt;12){\n          $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;wrong month\&quot;, &#39;error_code&#39; =&gt; \&quot;403\&quot;,);\n        return new WP_REST_Response(\&quot;wrong month\&quot;, 403);\n      }\n      \n      if($expYear&lt; date(&#39;Y&#39;)){\n          $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;wrong year\&quot;, &#39;error_code&#39; =&gt; \&quot;403\&quot;,);\n        return new WP_REST_Response(\&quot;wrong year\&quot;, 403);\n      }\n      \n       if($expYear &gt; date(&#39;Y&#39;)+50){\n          $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;wrong year\&quot;, &#39;error_code&#39; =&gt; \&quot;403\&quot;,);\n        return new WP_REST_Response(\&quot;wrong year\&quot;, 403); \n      }\n     \n     $user_id = GetMobileAPIUserByIdToken($usertoken);\n     if($user_id){\n         \n         $stripeid=get_user_meta($user_id,&#39;stripe_id&#39;,true);\n        if($stripeid){\n                 require_once(&#39;stripe\/init.php&#39;);\n              $secret_key = get_option( &#39;options_secret_key&#39; );\n              $publishable_key = get_option( &#39;options_publisher_key&#39; );\n              $stripe = array(\n                 \&quot;secret_key\&quot; =&gt; $secret_key,\n                 \&quot;publishable_key\&quot; =&gt; $publishable_key\n             );\n             \n             \\Stripe\\Stripe::setApiKey($stripe[&#39;secret_key&#39;]);\n             \n                $update = \\Stripe\\Customer::updateSource(\n                  $stripeid,\n                  $card,\n                  [\n                   &#39;name&#39;=&gt;$name,\n                   &#39;exp_month&#39;=&gt;$expMonth,\n                   &#39;exp_year&#39;=&gt;$expYear\n                  ]\n                );\n            $data[&#39;update&#39;]=$update;    \n            return new WP_REST_Response($data, 200);\n        }\n     }\n     $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;user not found\&quot;, &#39;error_code&#39; =&gt; \&quot;403\&quot;,&#39;free_count&#39;=&gt;false);\n     return new WP_REST_Response($data, 403);\n}\nfunction DeleteCard($request){\n    global $wpdb;\n     $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n      $param = $request-&gt;get_params();\n      $usertoken = $param[&#39;token&#39;];\n      $card = $param[&#39;card&#39;];\n     $user_id = GetMobileAPIUserByIdToken($usertoken);\n     if($user_id){\n         \n         $stripeid=get_user_meta($user_id,&#39;stripe_id&#39;,true);\n        if($stripeid){\n                 require_once(&#39;stripe\/init.php&#39;);\n              $secret_key = get_option( &#39;options_secret_key&#39; );\n              $publishable_key = get_option( &#39;options_publisher_key&#39; );\n              $stripe = array(\n                 \&quot;secret_key\&quot; =&gt; $secret_key,\n                 \&quot;publishable_key\&quot; =&gt; $publishable_key\n             );\n             \n             \\Stripe\\Stripe::setApiKey($stripe[&#39;secret_key&#39;]);\n             \n            \\Stripe\\Customer::deleteSource(\n              $stripeid,\n              $card\n            );\n            $cards = \\Stripe\\Customer::allSources(\n              $stripeid,\n              [\n                &#39;limit&#39; =&gt; 100,\n                &#39;object&#39; =&gt; &#39;card&#39;,\n              ]\n            );\n            $data[&#39;cards&#39;]=$cards;\n             $data[&#39;customer&#39;]=\\Stripe\\Customer::retrieve($stripeid);\n            return new WP_REST_Response($data, 200);\n        }\n     }\n     $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;user not found\&quot;, &#39;error_code&#39; =&gt; \&quot;403\&quot;,&#39;free_count&#39;=&gt;false);\n     return new WP_REST_Response($data, 403);\n}\n\n\n\n\n\n\nfunction GetUser($request){\n    $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n     $param = $request-&gt;get_params();\n    $usertoken = $param[&#39;token&#39;];\n    $user_id = GetMobileAPIUserByIdToken($usertoken);\n    if ($user_id) {\n         $data[&#39;first_name&#39;]=get_user_meta($user_id,&#39;first_name&#39;,true);\n         $data[&#39;city&#39;]=get_user_meta($user_id,&#39;city&#39;,true);\n         $data[&#39;state&#39;]=get_user_meta($user_id,&#39;state&#39;,true);\n         $data[&#39;gym&#39;]=(int)get_user_meta($user_id,&#39;gym&#39;,true);\n         $author_obj = get_user_by(&#39;id&#39;,$user_id);\n         $data[&#39;email&#39;]=$author_obj-&gt;data-&gt;user_email;\n         \n        $Cards = FunStripeGetCards($user_id);\n        $Card_count=count($Cards[&#39;cards&#39;]-&gt;data);\n        $data[&#39;Card_count&#39;]=$Card_count;\n        $data[&#39;Card&#39;]=$Cards[&#39;cards&#39;]-&gt;data;\n        $data[&#39;Error&#39;]=$Cards[&#39;error&#39;];\n        \n        $free_refile = get_user_meta($user_id,&#39;free_refile&#39;,true);\n          $countf=0;\n          if($free_refile&gt;0){\n            for($i=0;$i&lt;=$free_refile;$i++){\n              $freeC = get_user_meta($user_id,&#39;free_refile_&#39;.$i.&#39;_number&#39;,true);\n              $countf+=$freeC;\n            } \n          }\n          global $wpdb;\n         $d_count = $wpdb-&gt;get_var(\&quot;SELECT COUNT(*) FROM stripe_charge where user_id=&#39;\&quot;.$user_id.\&quot;&#39; and status=1 and type=1\&quot; );\n          $ufDrink =0;\n         \n            $ufDrink = 5;  \n         \n          \n          $drinks = $countf+$ufDrink;\n         \n          $data[&#39;free_count&#39;] = 0;\n          $rem = $drinks-$d_count;\n          \n          if($rem &gt; 0){\n             $data[&#39;free_count&#39;] = $rem; \n          } \n          $data[&#39;gym_list&#39;]=get_posts(array(&#39;post_type&#39; =&gt; &#39;gyms&#39;,&#39;numberposts&#39;=&gt;-1,&#39;orderby&#39;=&gt; &#39;post_title&#39;,&#39;order&#39;=&gt; &#39;ASC&#39;));\n         \n         return new WP_REST_Response($data, 200);\n         \n    }\n    $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;user not found\&quot;, &#39;error_code&#39; =&gt; \&quot;user_not_found\&quot;);\n     return new WP_REST_Response($data, 403);\n}\n\n\nfunction StripeGetCards($request){\n     $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n     $param = $request-&gt;get_params();\n     $usertoken = $param[&#39;token&#39;];\n     $user_id = GetMobileAPIUserByIdToken($usertoken);\n    if ($user_id) {\n        $stripeid=get_user_meta($user_id,&#39;stripe_id&#39;,true);\n        if($stripeid){\n                 require_once(&#39;stripe\/init.php&#39;);\n              $secret_key = get_option( &#39;options_secret_key&#39; );\n              $publishable_key = get_option( &#39;options_publisher_key&#39; );\n              $stripe = array(\n                 \&quot;secret_key\&quot; =&gt; $secret_key,\n                 \&quot;publishable_key\&quot; =&gt; $publishable_key\n             );\n             \n             \\Stripe\\Stripe::setApiKey($stripe[&#39;secret_key&#39;]);\n             \n            $cards = \\Stripe\\Customer::allSources(\n              $stripeid,\n              [\n                &#39;limit&#39; =&gt; 100,\n                &#39;object&#39; =&gt; &#39;card&#39;,\n              ]\n            );\n            $data[&#39;cards&#39;]=$cards;\n            if(count($cards-&gt;data) &gt; 0){\n            $data[&#39;customer&#39;]=\\Stripe\\Customer::retrieve($stripeid);\n            return new WP_REST_Response($data, 200);\n            }else{\n                $data[&#39;cards&#39;]=array();\n                return new WP_REST_Response($data, 403); \n            }\n        }\n         $data[&#39;cards&#39;]=array();\n         $data[&#39;customer&#39;]=array();\n         return new WP_REST_Response($data, 403);\n         \n    }\n    $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;something went wrong\&quot;, &#39;error_code&#39; =&gt; \&quot;403\&quot;);\n     return new WP_REST_Response($data, 403);\n}\n\n\n\n\nfunction refundStripe($TransactionId,$code=NULL){\n    \n     global $wpdb;\n    $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n    \n    $Data = $wpdb-&gt;get_row( \&quot;SELECT * FROM stripe_charge WHERE \tstealth_transactionId =&#39;\&quot;.$TransactionId.\&quot;&#39; and auth_id!=&#39;0&#39;\&quot;, ARRAY_A );\n          \n         \n         if(count($Data) &gt; 0){\n             \n             if($Data[&#39;stripe_refund_id&#39;]==\&quot;\&quot; &amp;&amp; $Data[&#39;is_completed&#39;]==0){\n                 \n             require_once(&#39;stripe\/init.php&#39;);\n              $secret_key = get_option( &#39;options_secret_key&#39; );\n              $publishable_key = get_option( &#39;options_publisher_key&#39; );\n              $stripe = array(\n                 \&quot;secret_key\&quot; =&gt;$secret_key,\n                 \&quot;publishable_key\&quot; =&gt;$publishable_key\n             );\n             \n             \\Stripe\\Stripe::setApiKey($stripe[&#39;secret_key&#39;]);\n             $refund = \\Stripe\\Refund::create([\n                    &#39;charge&#39; =&gt; $Data[&#39;auth_id&#39;],\n                ]);\n             \n             $wpdb-&gt;update( \n                    \t&#39;stripe_charge&#39;, \n                    \tarray( \n                    \t\t&#39;status&#39; =&gt;3,\n                    \t\t&#39;stripe_refund_id&#39;=&gt;$refund-&gt;id\n                    \t), \n                    \tarray( &#39;stealth_transactionId&#39; =&gt;$TransactionId)\n                    );\n             }\n            \n             \n         }else{\n             \n             \n            $Data = $wpdb-&gt;get_row( \&quot;SELECT * FROM stripe_charge WHERE \tstealth_transactionId =&#39;\&quot;.$TransactionId.\&quot;&#39; and is_completed=0 \&quot;, ARRAY_A );\n            if(count($Data) &gt; 0){\n                \n            if($code){\n                $wpdb-&gt;update( \n                    \t&#39;stripe_charge&#39;, \n                    \tarray( \n                    \t\t&#39;status&#39;=&gt;4,\n                    \t\t &#39;code&#39;=&gt;$code\n                    \t), \n                    \tarray( &#39;stealth_transactionId&#39; =&gt;$TransactionId)\n                    ); \n            }else{ \n            $wpdb-&gt;update( \n                    \t&#39;stripe_charge&#39;, \n                    \tarray( \n                    \t\t&#39;status&#39;=&gt;4,\n                    \t), \n                    \tarray( &#39;stealth_transactionId&#39; =&gt;$TransactionId)\n                    ); \n             }\n            }\n         }\n         \n    return $Data[&#39;ref&#39;]=$refund;\n         \n    \n}\n\/\/CreateStripeUser\nfunction CreateStripeUser($request){\n    \n    $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n    $param = $request-&gt;get_params();\n    $usertoken = $param[&#39;token&#39;];\n    $token = $param[&#39;stripeToken&#39;];\n    $user_id = GetMobileAPIUserByIdToken($usertoken);\n    if ($user_id) {\n        \n        $data[&#39;status&#39;] = \&quot;ok\&quot;;\n        $data[&#39;payment&#39;]  = &#39;&#39;;\n        $data[&#39;msg&#39;]  = &#39;&#39;;\n        \n         require_once(&#39;stripe\/init.php&#39;);\n        \n         \n         $data[&#39;payment&#39;]  = &#39;success&#39;;\n         $data[&#39;msg&#39;]  = &#39;sucess&#39;;\n         \n         $price = 0;\n        \n         $stripeid=get_user_meta($user_id,&#39;stripe_id&#39;,true);\n         $user_info = get_userdata($user_id);\n         $email = $user_info-&gt;user_email;\n\n        $secret_key = get_option( &#39;options_secret_key&#39; );\n              $publishable_key = get_option( &#39;options_publisher_key&#39; );\n              $stripe = array(\n                 \&quot;secret_key\&quot; =&gt; $secret_key,\n                 \&quot;publishable_key\&quot; =&gt; $publishable_key\n             );\n         \n         \\Stripe\\Stripe::setApiKey($stripe[&#39;secret_key&#39;]);\n         $customerid=$stripeid;\n        if(!$stripeid){\n             $customer = \\Stripe\\Customer::create(array(\n                 &#39;email&#39; =&gt; $email,\n                 &#39;name&#39;=&gt;$user_info-&gt;user_login,\n                 &#39;source&#39; =&gt; $token\n             ));\n             \n            update_user_meta($user_id,&#39;stripe_id&#39;,$customer-&gt;id);\n            \n            $customerid=$customer-&gt;id;\n        }\n        \n        else{\n         $card = \\Stripe\\Customer::createSource(\n          $stripeid,\n          [\n            &#39;source&#39; =&gt; $token,\n          ]\n        );\n                                            \n            $customerid=$stripeid;\n        }\n\n        if($customerid){\n          return new WP_REST_Response($data, 200);\n        }else{\n          $data[&#39;status&#39;]=\&quot;error\&quot;;  \n          $data[&#39;msg&#39;]=\&quot;no customer found\&quot;;\n          return new WP_REST_Response($data, 200);  \n        }\n    } else {\n        $res[&#39;status&#39;] = \&quot;error\&quot;;\n        $res[&#39;msg&#39;] = \&quot;Your session expired, please login again\&quot;;\n        $res[&#39;error_code&#39;] = \&quot;user_not_found\&quot;;\n        return new WP_REST_Response($res, 403);\n    }\n}\nfunction CreateStripeCapture($request){\n    $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n    $param = $request-&gt;get_params();\n    $usertoken = $param[&#39;token&#39;];\n    $token = $param[&#39;stripeToken&#39;];\n    $details = $param[&#39;details&#39;];\n    $user_id = GetMobileAPIUserByIdToken($usertoken);\n    if ($user_id) {\n        \n        $data[&#39;status&#39;] = \&quot;ok\&quot;;\n        $data[&#39;payment&#39;]  = &#39;&#39;;\n        $data[&#39;msg&#39;]  = &#39;&#39;;\n        \n         require_once(&#39;stripe\/init.php&#39;);\n        \n         \n         $data[&#39;payment&#39;]  = &#39;success&#39;;\n         $data[&#39;msg&#39;]  = &#39;sucess&#39;;\n         \n         $price = (intval($details[&#39;Amount&#39;]))*100;\n        \n         $stripeid=get_user_meta($user_id,&#39;stripe_id&#39;,true);\n         $user_info = get_userdata($user_id);\n         $email = $user_info-&gt;user_email;\n\n        $secret_key = get_option( &#39;options_secret_key&#39; );\n              $publishable_key = get_option( &#39;options_publisher_key&#39; );\n              $stripe = array(\n                 \&quot;secret_key\&quot; =&gt; $secret_key,\n                 \&quot;publishable_key\&quot; =&gt; $publishable_key\n             );\n         \n         \\Stripe\\Stripe::setApiKey($stripe[&#39;secret_key&#39;]);\n         $customerid=$stripeid;\n        if(!$stripeid){\n            $customerid=null;\n            try {\n              $customer = \\Stripe\\Customer::create(array(\n                 &#39;email&#39; =&gt; $email,\n                 &#39;name&#39;=&gt;$user_info-&gt;user_login,\n                 &#39;source&#39; =&gt; $token\n             ));\n              update_user_meta($user_id,&#39;stripe_id&#39;,$customer-&gt;id);\n              $customerid=$customer-&gt;id;\n            } catch(Stripe_CardError $e) {\n              $error[] = $e-&gt;getMessage();\n            } catch (Stripe_InvalidRequestError $e) {\n              \/\/ Invalid parameters were supplied to Stripe&#39;s API\n              $error[] = $e-&gt;getMessage();\n            } catch (Stripe_AuthenticationError $e) {\n              \/\/ Authentication with Stripe&#39;s API failed\n              $error[] = $e-&gt;getMessage();\n            } catch (Stripe_ApiConnectionError $e) {\n              \/\/ Network communication with Stripe failed\n              $error[] = $e-&gt;getMessage();\n            } catch (Stripe_Error $e) {\n              \/\/ Display a very generic error to the user, and maybe send\n              \/\/ yourself an email\n              $error[] = $e-&gt;getMessage();\n            } catch (Exception $e) {\n              \/\/ Something else happened, completely unrelated to Stripe\n              $error[] = $e-&gt;getMessage();\n            }\n             \n        }\n        \n        else{\n            $customerid=$stripeid;\n        }\n\n        if($customerid){\n        $error = array();\n         \n     try {\n             $charge = \\Stripe\\Charge::create(array(\n             &#39;customer&#39; =&gt; $customerid,\n             &#39;amount&#39; =&gt; $price,\n             &#39;currency&#39; =&gt; $details[&#39;Currency&#39;],\n             &#39;source&#39; =&gt; $details[&#39;Card&#39;],\n             \&quot;metadata\&quot; =&gt; array(\&quot;requestId\&quot;=&gt;$details[&#39;RequestId&#39;],&#39;SourceTrackingID&#39;=&gt;$details[&#39;SourceTrackingID&#39;]),\n             &#39;capture&#39; =&gt; false,\n         ));\n            } catch(Stripe_CardError $e) {\n              $error[] = $e-&gt;getMessage();\n            } catch (Stripe_InvalidRequestError $e) {\n              \/\/ Invalid parameters were supplied to Stripe&#39;s API\n              $error[] = $e-&gt;getMessage();\n            } catch (Stripe_AuthenticationError $e) {\n              \/\/ Authentication with Stripe&#39;s API failed\n              $error[] = $e-&gt;getMessage();\n            } catch (Stripe_ApiConnectionError $e) {\n              \/\/ Network communication with Stripe failed\n              $error[] = $e-&gt;getMessage();\n            } catch (Stripe_Error $e) {\n              \/\/ Display a very generic error to the user, and maybe send\n              \/\/ yourself an email\n              $error[] = $e-&gt;getMessage();\n            } catch (Exception $e) {\n              \/\/ Something else happened, completely unrelated to Stripe\n              $error[] = $e-&gt;getMessage();\n            }\n        \n        if($charge-&gt;status==\&quot;succeeded\&quot; &amp;&amp; $charge-&gt;id!=&#39;&#39;){\n            \n             $data[&#39;charge_id&#39;]=$charge-&gt;id;\n             $data[&#39;response&#39;]=$charge;\n             global $wpdb;\n             $data_val = explode(\&quot;|\&quot;,$details[&#39;Product&#39;]);\n             $level_ex = $data_val[0];\n             $l = explode(\&quot;,\&quot;,$level_ex);\n             $size_ex = $data_val[1];\n             $s=explode(\&quot;,\&quot;,$size_ex);\n             \n             $error = $wpdb-&gt;update(&#39;stripe_charge&#39;, \n                    \tarray(&#39;auth_id&#39;=&gt;$charge-&gt;id), \n                    \tarray(&#39;requestId&#39; =&gt;$details[&#39;RequestId&#39;])\n                    \t);\n             \n             return new WP_REST_Response($data, 200);\n        }else{\n          $data[&#39;status&#39;]=\&quot;error\&quot;;  \n          $data[&#39;msg&#39;]=\&quot;something went wrong\&quot;;\n          $data[&#39;payment&#39;]=\&quot;no\&quot;;\n          $data[&#39;error&#39;]=join(&#39;,&#39;,$error);\n          return new WP_REST_Response($data, 403);    \n        }\n        }else{\n          $data[&#39;status&#39;]=\&quot;error\&quot;;  \n          $data[&#39;msg&#39;]=\&quot;no customer found\&quot;;\n          $data[&#39;error&#39;]=join(&#39;,&#39;,$error);\n          $data[&#39;payment&#39;]=\&quot;no\&quot;;\n          return new WP_REST_Response($data, 403);  \n        }\n    } else {\n        $data[&#39;status&#39;] = \&quot;error\&quot;;\n        $data[&#39;msg&#39;] = \&quot;Your session expired, please login again\&quot;;\n        $data[&#39;payment&#39;]=\&quot;no\&quot;;\n        return new WP_REST_Response($res, 403);\n    }\n}\n\n\n\n\n\n\n\/\/UpdateUser\nfunction doProfileUpdate($request){\n     $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n    $param = $request-&gt;get_params();\n    $usertoken = $param[&#39;token&#39;];\n    \n    $city = $param[&#39;city&#39;];\n    $state = $param[&#39;state&#39;];\n    $gym = $param[&#39;gym&#39;];\n    \/\/$first_name = $param[&#39;name&#39;];\n    $first_name = $param[&#39;first_name&#39;];\n    $last_name = $param[&#39;last_name&#39;];\n    \/\/$email = $param[&#39;email&#39;];\n    $user_id = GetMobileAPIUserByIdToken($usertoken);\n    if ($user_id) {\n          $author_obj = get_user_by(&#39;id&#39;,$user_id);\n         \n          $user_current_email = $author_obj-&gt;data-&gt;user_email;\n          $user_nicename = $author_obj-&gt;data-&gt;user_nicename;\n          $role = $author_obj-&gt;roles[0];\n          $img_url = get_avatar_url($user_id);\n          if($user_current_email!=$email){\n            if ($user_id and email_exists($email) == false) {\n                 wp_update_user($user_id);\n            }else{\n                $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;user email id not vaild.\&quot;, &#39;error_code&#39; =&gt; \&quot;403\&quot;);\n                   return new WP_REST_Response($data, 403);\n            }\n        }   \n            update_user_meta($user_id, &#39;first_name&#39;,$first_name);\n            update_user_meta($user_id, &#39;last_name&#39;,$last_name);\n            \/*update_user_meta($user_id, &#39;city&#39;,$city);\n            update_user_meta($user_id, &#39;state&#39;,$state);\n            update_user_meta($user_id, &#39;nickname&#39;,$first_name);\n            update_user_meta($user_id, &#39;gym&#39;,$gym);*\/\n            $user_data =array();\n            $fname = get_user_meta($user_id, &#39;first_name&#39;, true);\n            $lname = get_user_meta($user_id, &#39;last_name&#39;, true);\n            \n            $userdata[&#39;token&#39;] = $usertoken;\n            \n            $userdata[&#39;user_email&#39;] = $user_current_email;\n            \n            $userdata[&#39;user_nicename&#39;] = $user_nicename;\n            \n            $userdata[&#39;user_display_name&#39;] = $fname;\n            \n            $userdata[&#39;role&#39;] = $role;\n            \n            $userdata[&#39;user_avatar&#39;] = $img_url;\n            \n            $userdata[&#39;user_id&#39;] = $user_id;\n            \n            $userdata[&#39;first_name&#39;] = $fname;\n            \n            $userdata[&#39;last_name&#39;] = $lname;\n            \n            $data[&#39;msg&#39;] = \&quot;user updated successfully.\&quot;;\n            \n            \/\/$data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;user updated successfully.\&quot;, &#39;error_code&#39; =&gt; 200);\n            $data[&#39;userDetails&#39;] = $userdata;\n            return new WP_REST_Response($data, 200);\n    }\n    $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;user id not found\&quot;, &#39;error_code&#39; =&gt; \&quot;403\&quot;);\n    return new WP_REST_Response($data, 403);\n}\n\n\/\/ Create new user\nfunction MobileApiMakeNewAuthor($request)\n{\n\n    $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n    $param = $request-&gt;get_params();\n    $user_name = $param[&#39;email&#39;];\n    $user_email = $param[&#39;email&#39;];\n    $first_name = $param[&#39;first_name&#39;];\n    $last_name = $param[&#39;last_name&#39;];\n    $password = $param[&#39;password&#39;];\n\n\n    \/\/ JWT_AUTH_SECRET_KEY define in wp-config\n    if ($param[&#39;jw_auth_sec&#39;] != JWT_AUTH_SECRET_KEY) {\n        $data[&#39;status&#39;] = \&quot;error\&quot;;\n        $data[&#39;errormsg&#39;] = __(&#39;cheating----.&#39;);\n        $data[&#39;error_code&#39;] = \&quot;token_error\&quot;;\n        return new WP_REST_Response($data, 403);\n    }\n\n    if (!is_email($user_email)) {\n        $data[&#39;status&#39;] = \&quot;error\&quot;;\n        $data[&#39;errormsg&#39;] = __(&#39;This is not a Valid Email.&#39;);\n        $data[&#39;error_code&#39;] = \&quot;invalid_email\&quot;;\n        return new WP_REST_Response($data, 403);\n    }\n\n    $user_id = username_exists($user_name);\n\n    if ($passowrd == \&quot; \&quot;) {\n        $data[&#39;status&#39;] = \&quot;error\&quot;;\n        $data[&#39;errormsg&#39;] = __(&#39;Please provide password.&#39;);\n        $data[&#39;error_code&#39;] = \&quot;password_blank\&quot;;\n        return new WP_REST_Response($data, 403);\n    }\n    if (!$user_id and email_exists($user_email) == false) {\n        \/\/$random_password = wp_generate_password( $length=12, $include_standard_special_chars=false );\n        $user_id = wp_create_user($user_name, $password, $user_email);\n        $user = new WP_User($user_id);\n        $user-&gt;set_role(&#39;subscriber&#39;);\n        $time = time().$user_id;\n        $cp_token = md5($time);\n        update_user_meta($user_id, &#39;cp_token&#39;, $cp_token);\n        \/\/approved\n        update_user_meta($user_id, &#39;first_name&#39;,$first_name);\n        update_user_meta($user_id, &#39;last_name&#39;,$last_name);\n        update_user_meta($user_id, &#39;nickname&#39;, $first_name);\n\n        $url = get_site_url(). &#39;\/verification\/?cp=&#39;.$cp_token;\n    \/\/ basically we will edit here to make this nicer\n       $html=&#39;&#39;;\n       $html.=&#39;Hi , &#39;.$name;\n       $html = &#39;Please click the following links to confirm your account. &lt;br\/&gt;&lt;br\/&gt; &lt;a href=\&quot;&#39;.$url.&#39;\&quot;&gt;&#39;.$url.&#39;&lt;\/a&gt;&#39;;\n    \/\/ send an email out to user\n      add_filter(&#39;wp_mail_content_type&#39;, &#39;set_html_content_type&#39;);\n        \/\/wp_mail($user_email, __(&#39;Stealth Water Account Verification Email&#39;) , $html);\n      remove_filter(&#39;wp_mail_content_type&#39;, &#39;set_html_content_type&#39; );\n        return new WP_REST_Response($data, 200);\n    } else {\n        $data[&#39;status&#39;] = \&quot;error\&quot;;\n        $data[&#39;errormsg&#39;] = __(&#39;Account exists with this email.&#39;);\n        $data[&#39;error_code&#39;] = \&quot;user_already\&quot;;\n        return new WP_REST_Response($data, 403);\n    }\n}\n\nfunction set_html_content_type() {\nreturn &#39;text\/html&#39;;\n}\n\n\/\/ forgot password\nfunction RetrivePassword($request)\n{\n    global $wpdb, $current_site;\n\n    $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;msg\&quot; =&gt; \&quot;you will be recive login instructions.\&quot;);\n    $param = $request-&gt;get_params();\n    $user_login = sanitize_text_field($param[&#39;user_login&#39;]);\n\n    if (!is_email($user_login)) {\n        $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;msg\&quot; =&gt; \&quot;Please provide valid email.\&quot;);\n        return new WP_REST_Response($data, 403);\n    }\n\n    if (empty($user_login)) {\n        $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;msg\&quot; =&gt; \&quot;User email is empty.\&quot;);\n        return new WP_REST_Response($data, 403);\n\n    } elseif (strpos($user_login, &#39;@&#39;)) {\n\n        $user_data = get_user_by(&#39;email&#39;, trim($user_login));\n\n    } else {\n        $login = trim($user_login);\n        $user_data = get_user_by(&#39;login&#39;, $login);\n    }\n\n    if (!$user_data) {\n        $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;msg\&quot; =&gt; \&quot;User not found using email.\&quot;);\n        return new WP_REST_Response($data, 403);\n    }\n\n    \/\/ redefining user_login ensures we return the right case in the email\n    $user_login = $user_data-&gt;user_login;\n    $user_email = $user_data-&gt;user_email;\n\n    $allow = apply_filters(&#39;allow_password_reset&#39;, true, $user_data-&gt;ID);\n\n    if (!$allow) {\n        $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;msg\&quot; =&gt; \&quot;Password reset not allowed.\&quot;);\n        return new WP_REST_Response($data, 403);\n    } elseif (is_wp_error($allow)) {\n        $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;msg\&quot; =&gt; \&quot;Something went wrong\&quot;);\n        return new WP_REST_Response($data, 403);\n    }\n\n    \/\/$key = $wpdb-&gt;get_var($wpdb-&gt;prepare(\&quot;SELECT user_activation_key FROM $wpdb-&gt;users WHERE user_login = %s\&quot;, $user_login));\n    \/\/ if ( empty($key) ) {\n    \/\/ Generate something random for a key...\n    $key = get_password_reset_key($user_data);\n    $password = wp_generate_password(6, false);\n    wp_set_password($password, $user_data-&gt;ID);\n\n    \/\/ do_action(&#39;retrieve_password_key&#39;, $user_login, $key);\n    \/\/ Now insert the new md5 key into the db\n    \/\/$wpdb-&gt;update($wpdb-&gt;users, array(&#39;user_activation_key&#39; =&gt; $key), array(&#39;user_login&#39; =&gt; $user_login));\n    \/\/ }\n\n    $message = __(&#39;Hello ,&#39;) . \&quot;\\r\\n\\r\\n\&quot;;\n\n    $message = __(&#39;Someone requested that the password be reset for the following account:&#39;) . \&quot;\\r\\n\\r\\n\&quot;;\n    \/\/$message .= network_home_url( &#39;\/&#39; ) . \&quot;\\r\\n\\r\\n\&quot;;\n    $message .= sprintf(__(&#39;Username: %s&#39;), $user_login) . \&quot;\\r\\n\\r\\n\&quot;;\n    $message .= sprintf(__(&#39;New Password : %s&#39;), $password) . \&quot;\\r\\n\\r\\n\&quot;;\n\n    \/\/$message .= __(&#39;If this was a mistake, just ignore this email and nothing will happen.&#39;) . \&quot;\\r\\n\\r\\n\&quot;;\n    $message .= __(&#39;Thank you&#39;) . \&quot;\\r\\n\\r\\n\&quot;;\n    \/\/ $message .= network_site_url(\&quot;resetpass\/?key=$key&amp;login=\&quot; . rawurlencode($user_login), &#39;login&#39;) . \&quot;\\r\\n\&quot;;\n    \/* &lt;http:\/\/vipeel.testplanets.com\/resetpass\/?key=wDDY0rDxwfaWPOFZrrmf&amp;login=ajaytest%40gmail.com&gt; *\/\n    if (is_multisite()) {\n        $blogname = $GLOBALS[&#39;current_site&#39;]-&gt;site_name;\n    } else\n    \/\/ The blogname option is escaped with esc_html on the way into the database in sanitize_option\n    \/\/ we want to reverse this for the plain text arena of emails.\n    {\n        $blogname = wp_specialchars_decode(get_option(&#39;blogname&#39;), ENT_QUOTES);\n    }\n\n    $title = sprintf(__(&#39;[%s] Password Reset&#39;), $blogname);\n\n    $title = apply_filters(&#39;retrieve_password_title&#39;, $title);\n    $message = apply_filters(&#39;retrieve_password_message&#39;, $message, $key);\n\n    if ($message &amp;&amp; !wp_mail($user_email, $title, $message)) {\n        $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;msg\&quot; =&gt; \&quot;The e-mail could not be sent..\&quot;);\n        return new WP_REST_Response($data, 403);\n    }\n    \/\/ wp_die( __(&#39;The e-mail could not be sent.&#39;) . \&quot;&lt;br \/&gt;\\n\&quot; . __(&#39;Possible reason: your host may have disabled the mail() function...&#39;) );\n\n    return new WP_REST_Response($data, 200);\n}\n\n\/\/apply_filters(&#39;jwt_auth_token_before_dispatch&#39;, $data, $user);\nadd_filter(&#39;jwt_auth_token_before_dispatch&#39;, &#39;mobileapi_jwt_auth_token_before_dispatch&#39;, 10, 2);\nfunction mobileapi_jwt_auth_token_before_dispatch($data, $user)\n{\n\n    $role = &#39;subscriber&#39;;\n  \n    $data[&#39;role&#39;] = $role;\n    $first_name = get_user_meta($user-&gt;ID, \&quot;first_name\&quot;, true);\n    $last_name = get_user_meta($user-&gt;ID, \&quot;last_name\&quot;, true);\n    if (!empty($first_name)) {\n        $data[&#39;user_display_name&#39;] = ucfirst($first_name);\n    } else {\n        $data[&#39;user_display_name&#39;] = ucfirst($data[&#39;user_display_name&#39;]);\n    }\n    $useravatar = get_user_meta($user-&gt;ID, &#39;wp_user_avatar&#39;, true);\n    if ($useravatar) {\n        $img = wp_get_attachment_image_src($useravatar, array(&#39;150&#39;, &#39;150&#39;), true);\n        $data[&#39;user_avatar&#39;] = $img[0];\n    } else {\n        $data[&#39;user_avatar&#39;] = &#39;http:\/\/1.gravatar.com\/avatar\/1aedb8d9dc4751e229a335e371db8058?s=96&amp;d=mm&amp;r=g&#39;;\n    }\n    $data[&#39;user_id&#39;] = $user-&gt;ID;\n    $data[&#39;user_email&#39;] = $user-&gt;user_email;\n    $data[&#39;first_name&#39;] = $first_name;\n    $data[&#39;last_name&#39;] = $last_name;\n    return $data;\n}\n\nfunction user_id_exists($user)\n{\n    global $wpdb;\n    $count = $wpdb-&gt;get_var($wpdb-&gt;prepare(\&quot;SELECT COUNT(*) FROM $wpdb-&gt;users WHERE ID = %d\&quot;, $user));\n\n    if ($count == 1) {return true;} else {return false;}\n}\n\n\/\/ Get User ID by token\nfunction GetMobileAPIUserByIdToken($token)\n{\n    $decoded_array = array();\n    $user_id = 0;\n    if ($token) {\n        \n     try {\n        $decoded = JWT::decode($token, JWT_AUTH_SECRET_KEY, array(&#39;HS256&#39;));\n        $decoded_array = (array) $decoded;\n    if (count($decoded) &gt; 0) {\n        $user_id = $decoded_array[&#39;data&#39;]-&gt;user-&gt;id;\n    }\n\n    if (user_id_exists($user_id)) {\n        return $user_id;\n    } else {\n        return false;\n\n    }\n    \n    } catch (\\Exception $e) { \/\/ Also tried JwtException\n        return false;\n    }\n    }\n   \n}\n\n\n\n\n\nfunction StripeCapture($request){\n    global $wpdb;\n    $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n    $auth_id =  $param[&#39;auth_id&#39;];\n    \n    $Data = $wpdb-&gt;get_row( \&quot;SELECT * FROM stripe_charge WHERE \tstealth_transactionId =&#39;\&quot;.$request[&#39;result&#39;][&#39;transactionId&#39;].\&quot;&#39; and auth_id!=&#39;0&#39; and transactionId=&#39;&#39;\&quot;, ARRAY_A );\n          \n         \n         if(count($Data) &gt; 0){\n             \n               if($Data[&#39;transactionId&#39;]==\&quot;\&quot; &amp;&amp; $Data[&#39;is_completed&#39;]==1){\n             require_once(&#39;stripe\/init.php&#39;);\n              $secret_key = get_option( &#39;options_secret_key&#39; );\n              $publishable_key = get_option( &#39;options_publisher_key&#39; );\n              $stripe = array(\n                 \&quot;secret_key\&quot; =&gt; $secret_key,\n                 \&quot;publishable_key\&quot; =&gt; $publishable_key\n             );\n             \n             \\Stripe\\Stripe::setApiKey($stripe[&#39;secret_key&#39;]);\n              $charge = \\Stripe\\Charge::retrieve($Data[&#39;auth_id&#39;]);\n              $charge-&gt;capture();\n               if($charge-&gt;status==\&quot;succeeded\&quot; &amp;&amp; $charge-&gt;id!=&#39;&#39; &amp;&amp; $charge-&gt;captured==true){\n                   \n                    $wpdb-&gt;update( \n                    \t&#39;stripe_charge&#39;, \n                    \tarray( \n                    \t\t&#39;transactionId&#39; =&gt;$charge-&gt;balance_transaction,\n                    \t\t&#39;status&#39; =&gt;1,\n                    \t\t&#39;capture_date&#39;=&gt;date(&#39;Y-m-d h:i:s&#39;),\n                    \t\t&#39;balance_transaction&#39;=&gt;$charge-&gt;balance_transaction\n                    \t), \n                    \tarray( &#39;stealth_transactionId&#39; =&gt;$request[&#39;result&#39;][&#39;transactionId&#39;])\n                    );\n                    \n                    $data=array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;,&#39;transactionId&#39;=&gt;$charge-&gt;id);\n                   \n               }else{\n                   $wpdb-&gt;update( \n                    \t&#39;stripe_charge&#39;, \n                    \tarray( \n                    \t\t\n                    \t\t&#39;status&#39; =&gt;2\n                    \t\t\n                    \t), \n                    \tarray( &#39;stealth_transactionId&#39; =&gt;$request[&#39;result&#39;][&#39;transactionId&#39;])\n                    );\n                     $data=array(\&quot;status\&quot; =&gt; \&quot;error\&quot;,&#39;transactionId&#39;=&gt;&#39;&#39;);\n               }\n               }\n         \n         }else{\n            \n            if($request[&#39;code&#39;] &amp;&amp; $request[&#39;code&#39;]!=&#39;&#39;){\n                $wpdb-&gt;update( \n                    \t&#39;stripe_charge&#39;, \n                    \tarray( \n                    \t\t&#39;transactionId&#39; =&gt;\&quot;free_\&quot;.time(),\n                    \t\t&#39;status&#39; =&gt;1,\n                    \t\t&#39;capture_date&#39;=&gt;date(&#39;Y-m-d h:i:s&#39;),\n                    \t\t&#39;balance_transaction&#39;=&gt;\&quot;free_\&quot;.time(),\n                    \t\t&#39;code&#39;=&gt;$request[&#39;code&#39;],\n                    \t\t&#39;type&#39;=&gt;2\n                    \t), \n                    \tarray( &#39;stealth_transactionId&#39; =&gt;$request[&#39;result&#39;][&#39;transactionId&#39;])\n                    );   \n            }else{\n            $wpdb-&gt;update( \n                    \t&#39;stripe_charge&#39;, \n                    \tarray( \n                    \t\t&#39;transactionId&#39; =&gt;\&quot;free_\&quot;.time(),\n                    \t\t&#39;status&#39; =&gt;1,\n                    \t\t&#39;capture_date&#39;=&gt;date(&#39;Y-m-d h:i:s&#39;),\n                    \t\t&#39;balance_transaction&#39;=&gt;\&quot;free_\&quot;.time()\n                    \t), \n                    \tarray( &#39;stealth_transactionId&#39; =&gt;$request[&#39;result&#39;][&#39;transactionId&#39;])\n                    ); \n            }\n         }\n         \n         return $data;\n}\n\nif( function_exists(&#39;acf_add_options_page&#39;) ) {\n\t\n\tacf_add_options_page(array(\n\t\t&#39;page_title&#39; \t=&gt; &#39;App Settings&#39;,\n\t\t&#39;menu_title&#39;\t=&gt; &#39;App Settings&#39;,\n\t\t&#39;menu_slug&#39; \t=&gt; &#39;stripe-keys&#39;,\n\t\t&#39;capability&#39;\t=&gt; &#39;edit_posts&#39;,\n\t\t&#39;redirect&#39;\t\t=&gt; false\n\t));\n\t\n\t\n}\n\nfunction FunStripeGetCards($user_id=NULL){\n     $data = array(\&quot;status\&quot; =&gt; \&quot;ok\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;\&quot;, &#39;error_code&#39; =&gt; \&quot;\&quot;);\n    if ($user_id) {\n        $stripeid=get_user_meta($user_id,&#39;stripe_id&#39;,true);\n        if($stripeid){\n                 require_once(&#39;stripe\/init.php&#39;);\n              $secret_key = get_option( &#39;options_secret_key&#39; );\n              $publishable_key = get_option( &#39;options_publisher_key&#39; );\n              $stripe = array(\n                 \&quot;secret_key\&quot; =&gt; $secret_key,\n                 \&quot;publishable_key\&quot; =&gt; $publishable_key\n             );\n             \n             \\Stripe\\Stripe::setApiKey($stripe[&#39;secret_key&#39;]);\n             \n           \n            \n$error=array(); \n$data[&#39;cards&#39;]=array();\n            try {\n               $cards = \\Stripe\\Customer::allSources(\n                          $stripeid,\n                          [\n                            &#39;limit&#39; =&gt; 100,\n                            &#39;object&#39; =&gt; &#39;card&#39;,\n                          ]\n                        );\n                $data[&#39;cards&#39;]=$cards;\n            } catch(\\Stripe\\Exception\\CardException $e) {\n              $error[]= $e-&gt;getError()-&gt;message;\n            } catch (\\Stripe\\Exception\\RateLimitException $e) {\n              \/\/ Too many requests made to the API too quickly\n               $error[]= $e-&gt;getError()-&gt;message;\n            } catch (\\Stripe\\Exception\\InvalidRequestException $e) {\n              \/\/ Invalid parameters were supplied to Stripe&#39;s API\n              $error[]= $e-&gt;getError()-&gt;message;\n            } catch (\\Stripe\\Exception\\AuthenticationException $e) {\n              \/\/ Authentication with Stripe&#39;s API failed\n              $error[]= $e-&gt;getError()-&gt;message;\n              \/\/ (maybe you changed API keys recently)\n            } catch (\\Stripe\\Exception\\ApiConnectionException $e) {\n              \/\/ Network communication with Stripe failed\n              $error[]= $e-&gt;getError()-&gt;message;\n            } catch (\\Stripe\\Exception\\ApiErrorException $e) {\n              \/\/ Display a very generic error to the user, and maybe send\n              \/\/ yourself an email\n              $error[]= $e-&gt;getError()-&gt;message;\n            } catch (Exception $e) {\n              \/\/ Something else happened, completely unrelated to Stripe\n              $error[]= \&quot;user not found on stripe\&quot;;\n            }\n}\n         \n         $data[&#39;error&#39;]=$error;\n         return $data;\n         \n    }\n    $data = array(\&quot;status\&quot; =&gt; \&quot;error\&quot;, \&quot;errormsg\&quot; =&gt; \&quot;something went wrong\&quot;, &#39;error_code&#39; =&gt; \&quot;403\&quot;,&#39;cards&#39;=&gt;array());\n    return $data;\n}\n\nfunction function_approval( $atts ){\n    \n\tif(isset($_REQUEST[&#39;cp&#39;]) &amp;&amp; $_REQUEST[&#39;cp&#39;]!=&#39;&#39;){\n\t     $cp = trim($_REQUEST[&#39;cp&#39;]);\n\t     $user = get_users(array(&#39;meta_key&#39; =&gt; &#39;cp_token&#39;, &#39;meta_value&#39; =&gt; $cp));\n\t     if(count($user) &gt; 0){\n\t        if($user[0]-&gt;ID){\n\t        $user_id = $user[0]-&gt;ID;         \n\t        update_user_meta($user_id, &#39;approved&#39;,1);\n\t        \/\/delete_user_meta($user_id, &#39;cp_token&#39;);\n\t        return \&quot;Your account confirmed now you can login in app.\&quot;;\n\t        }else{\n\t          return \&quot;wrong code supply, Please contact administrator for more details.\&quot;;  \n\t        }\n\t     }else{\n\t         return \&quot;wrong code supply, Please contact administrator for more details.\&quot;;  \n\t     }\n\t     \n\t}else{\n\t    return \&quot;wrong code supply, Please contact administrator for more details.\&quot;;  \n\t}\n\t\n}\nadd_shortcode(&#39;approval&#39;,&#39;function_approval&#39;);\n\n\/* check user activation on login*\/\nadd_filter(&#39;wp_authenticate_user&#39;, &#39;isUserActivated&#39;);\n\nfunction isUserActivated($user){\n    \n    $userStatus = get_user_meta($user-&gt;ID, &#39;approved&#39;, true);\n    \n    if(metadata_exists(&#39;user&#39;, $user-&gt;ID, &#39;approved&#39;)){\n    if(isset($userStatus) &amp;&amp; $userStatus == 0){\n        \n        remove_action(&#39;authenticate&#39;, &#39;wp_authenticate_username_password&#39;, 20);\n        $user = new WP_Error( &#39;denied&#39;, __(\&quot;&lt;strong&gt;ERROR&lt;\/strong&gt;: Please verify your account.\&quot;) );\n    }\n    }\n   return $user;\n}\n\n\n\n\/\/=============================================================\n\nfunction callback_filter_resouces_data($request){\n\tglobal $wpdb;\n    $data = array(\n    \&quot;status\&quot; =&gt; \&quot;ok\&quot;,\n    \&quot;errormsg\&quot; =&gt; \&quot;\&quot;,\n    &#39;error_code&#39; =&gt; \&quot;\&quot;,\n    );\n    $param = $request-&gt;get_params();\n\n    $token=$param[&#39;token&#39;];\n\t$user_id = GetMobileAPIUserByIdToken($token);\n\t$search_key=$param[&#39;search_key&#39;];\n\t$page=$param[&#39;page_number&#39;];\n\n\tif(!empty($user_id) &amp;&amp; !empty($search_key)){\n\t\t$args=array( \n\t\t    &#39;post_type&#39; \t\t=&gt; &#39;resources&#39;,\n\t\t    &#39;post_status&#39; \t\t=&gt; &#39;publish&#39;,\n\t\t    &#39;s&#39;                 =&gt; $search_key, \n\t\t    &#39;posts_per_page&#39;    =&gt; 5,\n\t\t    &#39;paged&#39; \t        =&gt; $page,\n\t\t    &#39;orderby&#39;     \t\t=&gt; &#39;title&#39;, \n    \t\t&#39;order&#39;       \t\t=&gt; &#39;ASC&#39;\n\t\t);\n\t\t$resources_data=array();\n\t\t$resource = new WP_Query( $args );\n\t\t$resources_array = $resource-&gt;posts;\n\t\t$max_num_pages= $resource-&gt;max_num_pages;\n\t\t\n\t\tif(count($resources_array)&gt;0){\n\t\t\tforeach($resources_array as $resources_value){\n\t\t\t\t$resources=array();\n\t\t\t\t$resources[&#39;id&#39;]=$resources_value-&gt;ID;\n\t\t\t\t$resources[&#39;resource_title&#39;]=$resources_value-&gt;post_title;\n\t\t\t\t$resources[&#39;resource_name&#39;]=$resources_value-&gt;post_name;\n\t\t\t\t$resources[&#39;resource_image&#39;]=get_the_post_thumbnail_url($resources_value-&gt;ID);\n                $resources[&#39;address&#39;]=get_post_meta($resources_value-&gt;ID,&#39;address&#39;,true);\n                $resources[&#39;contact_number&#39;]=get_post_meta($resources_value-&gt;ID,&#39;contact_number&#39;,true);\n\n                \/\/ getting category name by term \n                $term_list = get_the_terms($resources_value-&gt;ID, &#39;resources_category&#39;);\n                $resources[&#39;category_name&#39;]=$term_list[0]-&gt;name;\n                $resources[&#39;category_id&#39;]=$term_list[0]-&gt;term_id;\n\t\t\t\t$resources_data[]=$resources;\n\t\t\t}\n\n\t\t}\n\t\t\n\t\t$data[&#39;resources&#39;]=$resources_data;\n    } else {\n    \t$data[&#39;errormsg&#39;]=\&quot;Invalid User\&quot;;\n    \t$data[&#39;error_code&#39;]=\&quot;400\&quot;;\n    }\n    \n    \/\/echo \&quot;&lt;pre&gt;\&quot;; print_r($data); exit;\n    return new WP_REST_Response($data, 200);\n}\n\n\n\n\nadd_filter(&#39;rest_prepare_large_scale&#39;, &#39;func_rest_prepare_large_scale&#39;, 10, 3 );\nfunction func_rest_prepare_large_scale( $data, $post, $request ) {\n    $commentCount = wp_count_comments($post-&gt;ID);\n    $data-&gt;data[&#39;comment_count&#39;] = $commentCount-&gt;approved;\n    $data-&gt;data[&#39;comments&#39;]=$comments = get_comments(array(\n        &#39;post_id&#39; =&gt; $post-&gt;ID));\n        $data-&gt;data[&#39;has_comments&#39;]=false;\n    if(count($data-&gt;data[&#39;comments&#39;])&gt;0){    \n       $data-&gt;data[&#39;has_comments&#39;]=true;\n    }\n    \n   \n   if($data-&gt;data[&#39;featured_media&#39;]&gt;0){\n       $image_attributes = wp_get_attachment_image_src($data-&gt;data[&#39;featured_media&#39;],&#39;medium&#39;);\n       $data-&gt;data[&#39;media_url&#39;]=$image_attributes[0];\n   }else{\n       $data-&gt;data[&#39;media_url&#39;]=false;\n   }\n   \n   \n   $data-&gt;data[&#39;file_url&#39;]=false;\n   $type = get_post_meta($post-&gt;ID,&#39;type&#39;,true);\n   if($type==&#39;&#39;){\n       $type=\&quot;text\&quot;;\n   }\n   $data-&gt;data[&#39;data_type&#39;]=$type;\n   if($type==\&quot;video\&quot;){\n   $media_attachment = get_post_meta($post-&gt;ID,&#39;media_attachment&#39;,true);\n   if($media_attachment&gt;0){\n       $data-&gt;data[&#39;file_url&#39;]= wp_get_attachment_url($media_attachment);\n   }\n   }\n    $data-&gt;data[&#39;post_author&#39;]=$post-&gt;post_author;\n    $useravatar = get_user_meta($post-&gt;post_author,&#39;wp_user_avatar&#39;,true); \n       if($useravatar){\n        $img = wp_get_attachment_image_src($useravatar, array(&#39;150&#39;,&#39;150&#39;), true);\n          $user_avatar=$img[0];\n          $data-&gt;data[&#39;author_avatar_urls&#39;]=$user_avatar;\n          \/\/$response-&gt;data[&#39;author_avatar&#39;]=$user_avatar;\n       }else{\n         \n           $data-&gt;data[&#39;author_avatar_urls&#39;]=&#39;http:\/\/1.gravatar.com\/avatar\/1aedb8d9dc4751e229a335e371db8058?s=96&amp;d=mm&amp;r=g&#39;;\n       }\n    \n           \n           \n    return $data;\n}\n\nadd_filter(&#39;rest_prepare_my_places&#39;, &#39;func_rest_prepare_my_places&#39;, 10, 3 );\nfunction func_rest_prepare_my_places( $data, $post, $request ) {\n    $commentCount = wp_count_comments($post-&gt;ID);\n    $data-&gt;data[&#39;comment_count&#39;] = $commentCount-&gt;approved;\n    $data-&gt;data[&#39;comments&#39;]=$comments = get_comments(array(\n        &#39;post_id&#39; =&gt; $post-&gt;ID));\n        $data-&gt;data[&#39;has_comments&#39;]=false;\n    if(count($data-&gt;data[&#39;comments&#39;])&gt;0){    \n       $data-&gt;data[&#39;has_comments&#39;]=true;\n    }\n    \n   \n   if($data-&gt;data[&#39;featured_media&#39;]&gt;0){\n       $image_attributes = wp_get_attachment_image_src($data-&gt;data[&#39;featured_media&#39;],&#39;medium&#39;);\n       $data-&gt;data[&#39;media_url&#39;]=$image_attributes[0];\n   }else{\n       $data-&gt;data[&#39;media_url&#39;]=false;\n   }\n   \n   $data-&gt;data[&#39;meta_data&#39;]=get_post_meta($post-&gt;ID,&#39;&#39;,true);\n   $address = &#39;&#39;;\n   if($data-&gt;data[&#39;meta_data&#39;][&#39;street_address&#39;][0]!=&#39;&#39;){\n    $address .=$data-&gt;data[&#39;meta_data&#39;][&#39;street_address&#39;][0];\n   }\n   if($data-&gt;data[&#39;meta_data&#39;][&#39;street_address2&#39;][0]!=&#39;&#39;){\n    $address .=\&quot; \&quot;.$data-&gt;data[&#39;meta_data&#39;][&#39;street_address2&#39;][0];   \n   }\n   \n   if($data-&gt;data[&#39;meta_data&#39;][&#39;city&#39;][0]!=&#39;&#39;){\n    $address .=\&quot; \&quot;.$data-&gt;data[&#39;meta_data&#39;][&#39;city&#39;][0];\n   }\n   \n    if($data-&gt;data[&#39;meta_data&#39;][&#39;state&#39;][0]!=&#39;&#39;){\n    $address .=\&quot;, \&quot;.$data-&gt;data[&#39;meta_data&#39;][&#39;state&#39;][0];\n   }\n   \n   if($data-&gt;data[&#39;meta_data&#39;][&#39;zip_code&#39;][0]!=&#39;&#39;){\n    $address .=\&quot;, \&quot;.$data-&gt;data[&#39;meta_data&#39;][&#39;zip_code&#39;][0];   \n   }\n   \n   if($data-&gt;data[&#39;meta_data&#39;][&#39;zip_code&#39;][0]!=&#39;&#39;){\n    $address .=\&quot; USA\&quot;;   \n   }\n   \n   \n   $data-&gt;data[&#39;map_lat&#39;]=(float)get_post_meta($post-&gt;ID,&#39;map_lat&#39;,true);\n   $data-&gt;data[&#39;map_lng&#39;]=(float)get_post_meta($post-&gt;ID,&#39;map_lng&#39;,true);\n   \n   $data-&gt;data[&#39;address&#39;]=$address;\n   $data-&gt;data[&#39;file_url&#39;]=false;\n   $type = get_post_meta($post-&gt;ID,&#39;type&#39;,true);\n   \n    $data-&gt;data[&#39;post_author&#39;]=$post-&gt;post_author;\n    $useravatar = get_user_meta($post-&gt;post_author,&#39;wp_user_avatar&#39;,true); \n       if($useravatar){\n        $img = wp_get_attachment_image_src($useravatar, array(&#39;150&#39;,&#39;150&#39;), true);\n          $user_avatar=$img[0];\n          $data-&gt;data[&#39;author_avatar_urls&#39;]=$user_avatar;\n          \/\/$response-&gt;data[&#39;author_avatar&#39;]=$user_avatar;\n       }else{\n         \n           $data-&gt;data[&#39;author_avatar_urls&#39;]=&#39;http:\/\/1.gravatar.com\/avatar\/1aedb8d9dc4751e229a335e371db8058?s=96&amp;d=mm&amp;r=g&#39;;\n       }\n    \n           \n           \n    return $data;\n}\n\n\/\/do_action( &#39;rest_insert_attachment&#39;, $attachment, $request, true );\nadd_action(&#39;rest_insert_attachment&#39;,&#39;func_rest_insert_attachment&#39;,10,3);\nfunction func_rest_insert_attachment($attachment, $request,$is_create){\n  \n  if(isset($request[&#39;post&#39;]) &amp;&amp; $request[&#39;post&#39;]!=&#39;&#39;){\n     \n      if($request[&#39;ext&#39;]==\&quot;mov\&quot; || $request[&#39;ext&#39;]==\&quot;mp4\&quot;){\n           update_post_meta($request[&#39;post&#39;],&#39;type&#39;,&#39;video&#39;); \n      }else{\n      update_post_meta($request[&#39;post&#39;],&#39;type&#39;,&#39;image&#39;); \n      }\n       set_post_thumbnail($request[&#39;post&#39;],$attachment-&gt;ID);\n      update_post_meta($request[&#39;post&#39;],&#39;media_attachment&#39;,$attachment-&gt;ID);\n  }\n  if(isset($request[&#39;type&#39;]) &amp;&amp; $request[&#39;type&#39;]==\&quot;edit\&quot;){\n      if(isset($request[&#39;old_image&#39;]) &amp;&amp; $request[&#39;old_image&#39;]!=\&quot;\&quot;){\n           wp_delete_attachment($request[&#39;old_image&#39;],true); \n      }\n  }\n  \/\/_wp_attachment_wp_user_avatar\n  \n if(isset($request[&#39;type&#39;]) &amp;&amp; $request[&#39;type&#39;]==\&quot;userimage\&quot;){\n      \/\/wp_user_avatar\n      update_user_meta($request[&#39;user&#39;], &#39;wp_user_avatar&#39;, $attachment-&gt;ID);\n  }\n}\n\n\nadd_action(&#39;rest_prepare_attachment&#39;,&#39;func_rest_prepare_attachment&#39;,10,3);\nfunction func_rest_prepare_attachment($response, $post, $request){\n    $response-&gt;imageurl = wp_get_attachment_image_src($post-&gt;id, array(&#39;150&#39;,&#39;150&#39;), true );\n   return $response;   \n}\n\n\n\/\/apply_filters( &#39;rest_prepare_user&#39;, $response, $user, $request )\n\n\/\/\/\/apply_filters( \&quot;rest_{$this-&gt;post_type}_query\&quot;, $args, $request ); \nadd_filter(&#39;rest_large_scale_query&#39;, &#39;func_rest_large_scale_query&#39;, 10, 2 );\nfunction func_rest_large_scale_query($args, $request)\n{\n    $param = $request-&gt;get_params();\n    $token = $param[&#39;token&#39;];\n    if($token!=&#39;&#39; &amp;&amp; $param[&#39;mypost&#39;]==1){\n       if($param[&#39;byid&#39;]==1){\n            $user_id = $token; \n       }else{\n         $user_id = GetMobileAPIUserByIdToken($token);    \n       }\n      \n       if($user_id){\n         $args[&#39;author&#39;]=$user_id;\n       }else{\n          $args[&#39;author&#39;]=72348237483278274827482374; \n       }\n       \n    }\n    \n    if($param[&#39;type&#39;]==1){\n        \n        $args[&#39;meta_key&#39;]=\&quot;type\&quot;;\n        $args[&#39;meta_value&#39;]=\&quot;video\&quot;;\n    }\n    \n    if($param[&#39;type&#39;]==0){\n        \n        $args[&#39;meta_key&#39;]=\&quot;type\&quot;;\n        $args[&#39;meta_value&#39;]=array(&#39;text&#39;,&#39;image&#39;);\n        \n    }\n    \n    \n    return $args;\n}\n\nadd_filter(&#39;rest_my_places_query&#39;, &#39;func_rest_my_places_query&#39;, 10, 2 );\nfunction func_rest_my_places_query($args, $request)\n{\n    $param = $request-&gt;get_params();\n    $token = $param[&#39;token&#39;];\n    if($token!=&#39;&#39; &amp;&amp; $param[&#39;mypost&#39;]==1){\n       if($param[&#39;byid&#39;]==1){\n            $user_id = $token; \n       }else{\n         $user_id = GetMobileAPIUserByIdToken($token);    \n       }\n      \n       if($user_id){\n         $args[&#39;author&#39;]=$user_id;\n       }else{\n          $args[&#39;author&#39;]=72348237483278274827482374; \n       }\n       \n    }\n    return $args;\n}\n\n\n\n\n\n\n\n';
        
        // Using jquery way of decoding the html content.
        // Tried to use '_' version of unescape method but it
        // did not decode encoded version of apostrophe (')
        // where the code is &#39;
        var htmlContent = $("<div/>").html(file_content).text();
        var fileName = "mobileappapi.php";
        var editAreaEl = "";
        var lastResizeTime = 0;
        var lastResizeRequestTime = 0;
        var NVData = {"editor_nowrap":"","editor_fontsize":""};

        function load_EditArea(workingContent) {
            workingContent = workingContent;
            if(USE_LEGACY_EDITOR){
                showAceEditorElements(false);

                editAreaEl = 'legacy_codewindow';
                CODEWINDOW = DOM.get(editAreaEl);
                editAreaLoader.show(editAreaEl);
                loadLegacyEditor(editAreaEl, workingContent);
            } else {
                editAreaLoader.hide(editAreaEl);

                editAreaEl = 'codewindow';
                CODEWINDOW = DOM.get(editAreaEl);
                showAceEditorElements(true);
                loadAceEditor(editAreaEl, workingContent);
            }
        }

        function showAceEditorElements(show){
            if(show){
                $(".show-ace-editor").show();
            } else {
                $(".show-ace-editor").hide();
            }
        }

        function loadLegacyEditor(editAreaId, editContent){
            // Setting up the ids in js/edit_area_resizer.js file to
            // use it for resizing purposes.
            setElementIds(editAreaId);
            var EditArea_config = {
                id: editAreaEl,
                start_highlight: true,
                allow_resize: "both",
                allow_toggle: false,
                language: "en",
                toolbar: "search, go_to_line, |, undo, redo, |, select_font, |, syntax_selection, |, change_smooth_selection, highlight, reset_highlight, word_wrap, |, help",
                syntax: "php",
                word_wrap: true
            };
            editAreaLoader.setValue(editAreaId, editContent);

            editAreaLoader.init(EditArea_config);
            doResizeSoon();
        }

        function loadAceEditor(editAreaEl, editContent){
            ace_editor = ace.edit(editAreaEl);
            // The line below is added to disable a
            // warning message as required by ace editor
            // script.
            ace_editor.$blockScrolling = Infinity;
            ace_editor.focus();

            var editSession = ace.createEditSession(editContent);
            ace_editor.setSession(editSession);
            if(typeof(editSession) !== "undefined"){
                var defaultFontSize = parseInt(NVData.editor_fontsize, 10) || 13;
                // Load the modelist extension to identify the file
                // type of the given file and open the file in that
                // editor mode.
                var modelist = ace.require("ace/ext/modelist");
                var modeObj = modelist.getModeForPath(fileName);

                ace_editor.setOptions({
                    "fontSize": defaultFontSize,
                    "mode": modeObj.mode,
                    "theme": "ace/theme/chrome"
                });
                updateWordWrapInterface();

                // Fill mode list dropdown in the toolbar.
                var $modeEl = $('#ddlModes');
                fillModesDropdown($modeEl, modelist);
                $modeEl.val(modeObj.name);
                // Bind change event.
                $modeEl.change(function(){
                    var selectedMode = $modeEl.find( "option:selected" ).first().val();
                    ace_editor.getSession().setMode(modelist.modesByName[selectedMode].mode);
                });

                // Fill font size dropdown.
                var $fontEl = $('#ddlFontSizes');
                fillFontsDropdown($fontEl);
                $fontEl.val(defaultFontSize);
                // Bind change event.
                $fontEl.change(function(){
                    var selectedSize = parseInt($fontEl.find( "option:selected" ).first().val());
                    SetNvData("editor_fontsize", selectedSize);
                    ace_editor.setFontSize(selectedSize);
                });
            }
        }

        function fillFontsDropdown($el) {
            var arr = [10, 11, 12, 13, 14, 16, 18, 20, 24].map(function(size){
                return {val: size, text: size + "px"};
            });
            arr.forEach(function(val){
                $el.append($("<option>", val));
            });
        }

        function fillModesDropdown($el, modeList) {
            var arr = modeList.modes.map(function(oMode){
                return {val: oMode.name, text: oMode.caption};
            });
            arr.forEach(function(val){
                $el.append($("<option>", val));
            });
        }

        function toolbarActions(action){
            switch(action){
                case "search":
                ace_editor.execCommand("find");
                break;
                case "goto":
                ace_editor.execCommand("gotoline");
                break;
                case "undo":
                ace_editor.undo();
                break;
                case "redo":
                ace_editor.redo();
                break;
                case "linewrap":
                toggleWordWrap();
                break;
            }
        }

        function toggleWordWrap() {
            if (NVData.editor_nowrap) {
                SetNvData("editor_nowrap", 0);
            } else {
                SetNvData("editor_nowrap", 1);
            }
            updateWordWrapInterface();
        }

        function updateWordWrapInterface() {
            var btnEl = document.querySelector("#btnLineWrap");

            if (btnEl && NVData.editor_nowrap) {
                ace_editor.setOption("wrap", false);
                btnEl.classList.remove("active");
            } else {
                ace_editor.setOption("wrap", 80);
                btnEl.classList.add("active");
            }
            // Remove the focus button state for less UI confusion
            btnEl.blur();
        }

        /*
         * This function detects if the browser is in a mobile
         * environment.
         * Note: This is used to open the editor in legacy editor mode
         * until Ace editor comes with the fixes for issues described in
         * ZC-2558.
        */
        function detectmobile() {
         if( navigator.userAgent.match(/Android/i)
         || navigator.userAgent.match(/webOS/i)
         || navigator.userAgent.match(/iPhone/i)
         || navigator.userAgent.match(/iPad/i)
         || navigator.userAgent.match(/iPod/i)
         || navigator.userAgent.match(/BlackBerry/i)
         || navigator.userAgent.match(/Windows Phone/i)
         ){
            return true;
          }
         else {
            return false;
          }
        }

        function toggle_EditArea(link) {
            var workingContent = "";
            if(USE_LEGACY_EDITOR){
                USE_LEGACY_EDITOR = false;
                // send working content to not loose working data
                // when user switches between two editors.
                workingContent = (editAreaLoader) ? editAreaLoader.getValue(editAreaEl) : "";
            } else {
                USE_LEGACY_EDITOR = true;
                // Reset the word wrap
                toggleWordWrap();
                // send working content to not loose working data
                // when user switches between two editors.
                workingContent = (ace_editor) ? ace_editor.getSession().getValue() : "";
            }
            toggleSwitchButtonAttr(link);
            load_EditArea(workingContent);
        }

        function toggleSwitchButtonAttr(btnEl) {
            var $switchButton = $(btnEl);
            if(USE_LEGACY_EDITOR){
                $switchButton.text("Use latest editor").prop("title", "Switch to latest editor.");
            } else {
                $switchButton.text("Use legacy editor").prop("title", "Switch to legacy editor.");
            }
        }

        var CODEWINDOW;
        var ace_editor;

        EVENT.throwErrors = true;

        YAHOO.util.Event.addListener(window, "load", function(){
            savedContent = htmlContent;
            if(detectmobile()){
                USE_LEGACY_EDITOR = true;
            }
            toggleSwitchButtonAttr(DOM.get("switch_editor_control"));
            load_EditArea(savedContent);
        });
        $(window).resize(function(e) {
            doResize();
        });
        </script>

    

<div id="cjt_dynamicnotice_container" class="cjt-dynamicnotice-container cjt-notice-container"></div></body><loom-container id="lo-engage-ext-container"><div></div><loom-shadow classname="resolved"></loom-shadow></loom-container></html>